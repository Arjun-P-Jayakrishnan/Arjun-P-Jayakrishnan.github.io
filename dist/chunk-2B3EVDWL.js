import {a}from'./chunk-5PDCNHTA.js';import {b as b$1}from'./chunk-37KH4TOK.js';import {b}from'./chunk-J2KCIWDX.js';import {Vector3,AnimationMixer}from'three';var L=s=>{let {eventBusManager:d,globalState:y,globalStorage:r}=b();a();({inputDirection:new Vector3(0,0,0)});let o,a$1=[],p=e=>{e.traverse(t=>{t.castShadow=true;});};return {mount:()=>{try{b$1.onMount("about-room-player");let e=r.getStorage("player").retrieve("player")?.groups,t=r.getStorage("player").retrieve("player")?.animations??[];if(!e)throw new Error(`player doesn't exist for the id ${s.rootMeshId}`);console.log("player",e),console.log("animations loaded",t),o={playerRoot:e};let n=new AnimationMixer(e);n.clipAction(t[2]).play(),a$1.push(n);}catch(e){console.error(`Player mesh cant be obtained :${e}`);}},activate:()=>{o.playerRoot&&(o.playerRoot.rotation.set(0,0,0,"XYZ"),o.playerRoot.castShadow=true,p(o.playerRoot));},update:e=>{a$1.forEach(t=>{t.update(e);});},deactiavte:()=>{},unmount:()=>{}}};export{L as a};//# sourceMappingURL=chunk-2B3EVDWL.js.map
//# sourceMappingURL=chunk-2B3EVDWL.js.map