import {a as a$1}from'./chunk-Q2HTSQYH.js';import {a}from'./chunk-DOA63GLT.js';import {LoadingManager}from'three';var b=(p,u)=>{let{scene:i,renderer:m,loaderEventBus:o,globalState:d}=u,{meshesMetaData:l,hdrMetaData:s}=p,r=new LoadingManager,a$2=[],f=()=>{r.onStart=(e,t,n)=>{o.emit({type:"load:start",url:e,loaded:t,total:n}),d.setState({loading:{active:true,progress:0}});},r.onProgress=(e,t,n)=>{o.emit({type:"load:progress",url:e,loaded:t,total:n}),d.setState({loading:{active:true,progress:t/n}});},r.onLoad=()=>{o.emit({type:"load:complete"});},r.onError=e=>{o.emit({type:"load:error",url:e});};},L=()=>{l.length>0&&a$2.push(a({assets:l,scene:i,loadingManager:r,loadingEventBus:o})),s!=null&&a$2.push(a$1({asset:s,scene:i,renderer:m,loadingManager:r,loadingEventBus:o}));};return {configure:()=>{f(),L();},loadAll:async()=>{let e=[];return a$2.forEach(t=>{e.push(t.load());}),await Promise.allSettled(e),{success:[],error:[]}},dispose:()=>{a$2.forEach(e=>{e.dispose?.();});}}};export{b as a};//# sourceMappingURL=chunk-H7XGBN2W.js.map
//# sourceMappingURL=chunk-H7XGBN2W.js.map