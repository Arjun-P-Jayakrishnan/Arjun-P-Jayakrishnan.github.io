{"version":3,"sources":["../src/utils/globalContext.ts"],"sourcesContent":["import {\n  createEventBusManager,\n  EventBusManager,\n} from \"./event_management/eventBusFactory\";\nimport { createGlobalState, GlobalState } from \"./state/globalState\";\nimport { GlobalStateContext } from \"./state/globalStateData\";\nimport { createGlobalStorage, GlobalStorage } from \"./storage/globalStorage\";\n\nconst GLOBAL_STATE_INITIAL: GlobalStateContext = {\n  loading: {\n    active: false,\n    progress: 0,\n  },\n} as const;\n\nexport interface References {\n  globalState: GlobalState;\n  eventBusManager: EventBusManager;\n  globalStorage: GlobalStorage;\n}\n\nexport let references: References;\n\nexport const getGlobalContext = () => {\n  if (!references) {\n    references = {\n      globalState: createGlobalState(GLOBAL_STATE_INITIAL),\n      eventBusManager: createEventBusManager(),\n      globalStorage: createGlobalStorage({}),\n    };\n\n    references.globalState.inflate();\n    references.globalStorage.mount();\n  }\n\n  return references;\n};\n"],"mappings":"mHAQA,IAAMA,EAA2C,CAC/C,QAAS,CACP,OAAQ,GACR,SAAU,CACZ,CACF,EAQWC,EAEEC,EAAmB,KACzBD,IACHA,EAAa,CACX,YAAaE,EAAkBH,CAAoB,EACnD,gBAAiBI,EAAsB,EACvC,cAAeC,EAAoB,CAAC,CAAC,CACvC,EAEAJ,EAAW,YAAY,QAAQ,EAC/BA,EAAW,cAAc,MAAM,GAG1BA","names":["GLOBAL_STATE_INITIAL","references","getGlobalContext","createGlobalState","createEventBusManager","createGlobalStorage"]}