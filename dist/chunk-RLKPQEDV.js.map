{"version":3,"sources":["../src/components/website/about/experience.ts"],"names":["template","ExperiencePage","clone","button","index","collapsibleElement","fn","e","data","li","header","title","duration","details","responsibilities","documentFragment","responsibility","_li","entry","dataList"],"mappings":"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","file":"chunk-RLKPQEDV.js","sourcesContent":["const template = document.createElement(\"template\");\ntemplate.innerHTML = `\n    <link rel=\"stylesheet\" href=\"/style/experience.css\">\n    <div class=\"experience\">\n        <ul class=\"job-list\">\n          <li class=\"job-item active\">\n            <div class=\"job-header\">\n              <button class=\"job-toggle\">\n                <h2 class=\"job-title\">Title</h2>\n                <h2 class=\"job-duration\">Duration</h2>\n              </button>\n            </div>\n            <div class=\"job-details\">\n              <ul class=\"job-responsibilities\">\n                <li class=\"job-responsibility-item\">Done task which improved some item</li>\n              </ul>\n            </div>\n          </li>\n        </ul>\n    </div>\n`;\n\ninterface Components {\n  root: HTMLDivElement | null;\n  jobList: HTMLUListElement | null;\n}\n\nexport interface JobExperience {\n  title: string;\n  duration: string;\n  responsibilities: string[];\n}\n\nexport class ExperiencePage extends HTMLElement {\n  root: ShadowRoot;\n  components: Components;\n  events: Record<\n    string,\n    { button: HTMLButtonElement; callback: (e: Event) => void }\n  > = {};\n\n  constructor() {\n    super();\n    this.root = this.attachShadow({ mode: \"open\" });\n\n    const clone = template.content.cloneNode(true);\n\n    this.root.appendChild(clone);\n\n    this.components = {\n      root: this.root.querySelector(\".experience\") as HTMLDivElement,\n      jobList: this.root.querySelector(\".job-list\") as HTMLUListElement,\n    };\n  }\n\n  connectedCallback() {}\n\n  disconnectedCallback() {}\n\n  private addEvent(\n    button: HTMLButtonElement,\n    index: number,\n    collapsibleElement: HTMLDivElement\n  ) {\n    const fn = (e: Event) => {\n      collapsibleElement.classList.toggle(\"hidden\");\n      console.log(\"button is clicked \", index);\n    };\n    this.events[`button :${index}`] = {\n      button: button,\n      callback: fn,\n    };\n    button.addEventListener(\"click\", fn);\n    console.log(\"attaching event\", index);\n  }\n\n  private addJobExperience(data: {\n    title: string;\n    duration: string;\n    responsibilities: string[];\n    index: number;\n  }): HTMLLIElement {\n    const li = document.createElement(\"li\");\n    li.classList.add(\"job-item\");\n\n    const header = document.createElement(\"div\");\n    header.classList.add(\"job-header\");\n\n    const button = document.createElement(\"button\");\n    button.classList.add(\"job-toggle\");\n\n    const title = document.createElement(\"h2\");\n    title.classList.add(\"job-title\");\n    title.textContent = data.title;\n\n    const duration = document.createElement(\"h2\");\n    duration.classList.add(\"job-duration\");\n    duration.textContent = data.duration;\n\n    button.appendChild(title);\n    button.appendChild(duration);\n    header.appendChild(button);\n\n    const details = document.createElement(\"div\");\n    details.classList.add(\"job-details\");\n    details.classList.add(\"hidden\");\n\n    this.addEvent(button, data.index, details);\n\n    const responsibilities = document.createElement(\"ul\");\n    responsibilities.classList.add(\"job-responsibilities\");\n\n    const documentFragment = document.createDocumentFragment();\n\n    data.responsibilities.forEach((responsibility) => {\n      const _li = document.createElement(\"li\");\n      _li.classList.add(\"job-responsibility-item\");\n      _li.textContent = responsibility;\n      documentFragment.appendChild(_li);\n    });\n\n    responsibilities.appendChild(documentFragment);\n    details.appendChild(responsibilities);\n    li.appendChild(header);\n    li.appendChild(details);\n\n    return li;\n  }\n\n  private removeEvents() {\n    console.log(\"remove all\");\n    Object.entries(this.events).forEach((entry) => {\n      entry[1].button.removeEventListener(\"click\", entry[1].callback);\n    });\n  }\n\n  private inflateCarousel(dataList: Array<JobExperience>) {\n    if (!this.components.jobList) return;\n    this.removeEvents();\n    this.components.jobList.innerHTML = \"\";\n\n    dataList.forEach((data, index) => {\n      this.components.jobList?.appendChild(\n        this.addJobExperience({\n          ...data,\n          index: index,\n        })\n      );\n    });\n  }\n\n  set Experience(data: Array<JobExperience>) {\n    console.log(\"experience\", data);\n    this.inflateCarousel(data);\n  }\n}\n"]}