{"version":3,"sources":["../src/engine/managers/InputManager.ts"],"names":["inputs","createInputManager","createMouseController","createKeyboardController","key"],"mappings":"+EAiBA,IAAIA,CAAAA,CAAwB,KAEfC,CAAAA,CAAqB,KAmCzB,CACL,MAAA,CAhCY,IAAM,CACbD,CAAAA,GACHA,CAAAA,CAAS,CACP,KAAA,CAAOE,GAAAA,GACP,QAAA,CAAUC,CAAAA,EACZ,CAAA,CAEAH,CAAAA,CAAO,KAAA,CAAM,OAAA,EAAQ,CACrBA,CAAAA,CAAO,SAAS,OAAA,EAAQ,EAE5B,EAuBE,aAAA,CAN6CI,CAAAA,EACtCJ,EAASA,CAAAA,CAAOI,CAAG,EAAI,IAAA,CAM9B,SAAA,CAnBc,IAAM,CACfJ,CAAAA,GAELA,EAAO,KAAA,CAAM,SAAA,GACbA,CAAAA,CAAO,QAAA,CAAS,SAAA,EAAU,EAC5B,CAeA,CAAA","file":"chunk-CL2UVRCZ.js","sourcesContent":["import {\n  createKeyboardController,\n  KeyboardInput,\n} from \"plugins/input/keyboard\";\nimport { createMouseController, MouseInput } from \"../../plugins/input/mouse\";\n\ninterface Inputs {\n  mouse: MouseInput;\n  keyboard: KeyboardInput;\n}\n\nexport interface InputManager {\n  onInit: () => void;\n  onUnmount: () => void;\n  getController: <K extends keyof Inputs>(key: K) => Inputs[K] | null;\n}\n\nlet inputs: Inputs | null = null;\n\nexport const createInputManager = (): InputManager => {\n  /**\n   *\n   */\n  const mount = () => {\n    if (!inputs) {\n      inputs = {\n        mouse: createMouseController(),\n        keyboard: createKeyboardController(),\n      };\n\n      inputs.mouse.onMount();\n      inputs.keyboard.onMount();\n    }\n  };\n\n  /**\n   *\n   */\n  const unmount = () => {\n    if (!inputs) return;\n\n    inputs.mouse.onUnmount();\n    inputs.keyboard.onUnmount();\n  };\n\n  /**\n   *\n   * @param key which plugin are you looking for\n   * @returns the controller if it exists\n   */\n  const getController = <K extends keyof Inputs>(key: K): Inputs[K] | null => {\n    return inputs ? inputs[key] : null;\n  };\n\n  return {\n    onInit: mount,\n    getController: getController,\n    onUnmount: unmount,\n  };\n};\n"]}