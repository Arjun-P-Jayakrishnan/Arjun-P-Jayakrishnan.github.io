import {a as a$1}from'./chunk-RJMC7EBF.js';import'./chunk-2IRYGOGO.js';import'./chunk-SXILFVSX.js';import'./chunk-AXXP7XPN.js';import'./chunk-NSRPG3CG.js';import'./chunk-FMSS4YZT.js';import'./chunk-EBLUBMTU.js';import'./chunk-RLKPQEDV.js';import'./chunk-OTRI6QVV.js';import'./chunk-BCX32B4M.js';import'./chunk-3PDW6EPC.js';import {a}from'./chunk-HNJOBEY6.js';import'./chunk-INDP64EC.js';import'./chunk-X37SJ2CM.js';import'./chunk-HEEGFBR2.js';import'./chunk-UA6X3H76.js';import'./chunk-KZLICZGK.js';import'./chunk-Z7SVGYKK.js';import'./chunk-N7TW4HJ3.js';import'./chunk-BX2XUJES.js';import'./chunk-ISUFU6NS.js';import'./chunk-344VLTTP.js';import'./chunk-FBHIBKUP.js';import'./chunk-D74VNJ5K.js';import'./chunk-LE4LQB4G.js';import'./chunk-X6UWSNL7.js';import'./chunk-CKNDFUNO.js';import'./chunk-WLPGFCZI.js';import'./chunk-NURIL6WF.js';import'./chunk-MYLHHMOV.js';import'./chunk-X6UAZFVZ.js';import'./chunk-VMUFPQJF.js';import'./chunk-2SIDCQ2O.js';import'./chunk-5PDCNHTA.js';import'./chunk-YSY5DFCU.js';import'./chunk-LF3Q6SV4.js';import'./chunk-J6AV5YYH.js';import'./chunk-L3I32D56.js';import'./chunk-MWU7DWMH.js';import'./chunk-37KH4TOK.js';import'./chunk-RKTTKTSH.js';import'./chunk-MK2JNO5U.js';import'./chunk-BFK572KU.js';import'./chunk-HXEJ7JYP.js';import'./chunk-6GP3ULQR.js';import {b}from'./chunk-ML4JF6YZ.js';import'./chunk-VQ5WHRVE.js';import'./chunk-BRVW72WB.js';import'./chunk-GK65MN25.js';import'./chunk-JCK5HAKU.js';import'./chunk-K5SYR3S2.js';import'./chunk-4UJKZHWJ.js';import'./chunk-PVV5FYMO.js';var c,n,o={isPreMounted:false,isMounted:false},l=()=>{try{c=b(),n={webComponent:a$1(),gameEngine:a()},n.webComponent.mount(),n.gameEngine.mount(),o.isPreMounted=!0;}catch(e){console.error(`Error during pre-mount setup : ${e}`);}},i=async()=>{try{console.log("getting data from json files"),await n.webComponent.load();}catch(e){console.error(`Error loading data from json ${e}`);}},m=async()=>{try{(await Promise.allSettled([n.gameEngine.load()])).forEach(r=>{r.status=="rejected"&&console.error(`Failed to load models and mount game engine ${r.reason}`);}),n.gameEngine.update();}catch(e){console.error(`Error while trying to load assets : ${e}`);}},d=()=>{try{if(!n)throw new Error("Error while pre-mounting.");n.webComponent.attachReferences(),"requestIdleCallback"in window?window.requestIdleCallback(async()=>{await m(),await i();}):setTimeout(async()=>{await m(),await i();},200),o.isMounted=!0;}catch(e){console.error(`Error while main mount due to : ${e}`);}},u=()=>{try{if(!o.isMounted)return;n.webComponent.unmount(),n.gameEngine.unmount();}catch(e){console.error(`Error while main unmount due to : ${e}`);}},g=()=>{l(),document.addEventListener("DOMContentLoaded",()=>{o.isPreMounted&&d(),window.addEventListener("beforeunload",()=>{o.isMounted&&u();});});};g();//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map