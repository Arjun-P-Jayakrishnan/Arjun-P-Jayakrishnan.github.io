{"version":3,"sources":["../src/engine/core/ServiceRegistry.ts"],"names":["createServiceRegistry","services","name","service","serviceRegistry","getServiceRegistry"],"mappings":"AAOA,IAAMA,CAAAA,CAAwB,IAAuB,CACnD,IAAMC,EAAyC,IAAI,GAAA,CA6BnD,OAAO,CACL,QAAA,CAzBe,CACfC,CAAAA,CACAC,CAAAA,GACS,CACT,GAAIF,CAAAA,CAAS,GAAA,CAAIC,CAAI,CAAA,CACnB,MAAM,IAAI,KAAA,CAAM,mCAAmCA,CAAI,CAAA,CAAA,CAAG,CAAA,CAE5DD,CAAAA,CAAS,GAAA,CAAIC,CAAAA,CAAMC,CAAO,EAC5B,EAkBE,GAAA,CAhBiCD,CAAAA,EAA2B,CAC5D,IAAMC,CAAAA,CAAUF,CAAAA,CAAS,GAAA,CAAIC,CAAI,EACjC,GAAI,CAACC,CAAAA,CACH,MAAM,IAAI,KAAA,CACR,CAAA,0DAAA,EAA6DD,CAAI,EACnE,CAAA,CAEF,OAAOC,CACT,CAAA,CASE,GAAA,CAPWD,CAAAA,EACJD,CAAAA,CAAS,GAAA,CAAIC,CAAI,CAO1B,CACF,CAAA,CAEIE,CAAAA,CAEEC,CAAAA,CAAqB,KACpBD,CAAAA,GACHA,CAAAA,CAAkBJ,GAAsB,CAAA,CAGnCI,CAAAA","file":"chunk-P6US56ME.js","sourcesContent":["import {\n  ServiceKey,\n  ServiceMap,\n  ServiceRegistry,\n  ServiceType,\n} from \"types/service.types\";\n\nconst createServiceRegistry = (): ServiceRegistry => {\n  const services: Map<ServiceKey, ServiceType> = new Map<\n    ServiceKey,\n    ServiceType\n  >();\n\n  const register = <K extends ServiceKey>(\n    name: K,\n    service: ServiceMap[K]\n  ): void => {\n    if (services.has(name)) {\n      throw new Error(`Error : Redefining the service [${name}]`);\n    }\n    services.set(name, service);\n  };\n\n  const get = <K extends ServiceKey>(name: K): ServiceMap[K] => {\n    const service = services.get(name);\n    if (!service) {\n      throw new Error(\n        `Error : Trying to obtain value of an unregistered service ${name}`\n      );\n    }\n    return service as ServiceMap[K];\n  };\n\n  const has = (name: ServiceKey): boolean => {\n    return services.has(name);\n  };\n\n  return {\n    register: register,\n    get: get,\n    has: has,\n  };\n};\n\nlet serviceRegistry: ServiceRegistry | undefined = undefined;\n\nconst getServiceRegistry = () => {\n  if (!serviceRegistry) {\n    serviceRegistry = createServiceRegistry();\n  }\n\n  return serviceRegistry;\n};\n\nexport { getServiceRegistry };\n"]}