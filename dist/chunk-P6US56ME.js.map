{"version":3,"sources":["../src/engine/core/ServiceRegistry.ts"],"names":["createServiceRegistry","services","name","service","serviceRegistry","getServiceRegistry"],"mappings":"AAOA,IAAMA,CAAwB,CAAA,IAAuB,CACnD,IAAMC,EAAyC,IAAI,GAAA,CA6BnD,OAAO,CACL,QAzBe,CAAA,CACfC,CACAC,CAAAA,CAAAA,GACS,CACT,GAAIF,CAAAA,CAAS,GAAIC,CAAAA,CAAI,CACnB,CAAA,MAAM,IAAI,KAAA,CAAM,mCAAmCA,CAAI,CAAA,CAAA,CAAG,CAE5DD,CAAAA,CAAAA,CAAS,GAAIC,CAAAA,CAAAA,CAAMC,CAAO,EAC5B,EAkBE,GAhBiCD,CAAAA,CAAAA,EAA2B,CAC5D,IAAMC,CAAUF,CAAAA,CAAAA,CAAS,GAAIC,CAAAA,CAAI,EACjC,GAAI,CAACC,CACH,CAAA,MAAM,IAAI,KAAA,CACR,CAA6DD,0DAAAA,EAAAA,CAAI,EACnE,CAEF,CAAA,OAAOC,CACT,CAAA,CASE,GAPWD,CAAAA,CAAAA,EACJD,CAAS,CAAA,GAAA,CAAIC,CAAI,CAO1B,CACF,CAEIE,CAAAA,CAAAA,CAEEC,CAAqB,CAAA,KACpBD,CACHA,GAAAA,CAAAA,CAAkBJ,GAGbI,CAAAA,CAAAA,CAAAA","file":"chunk-P6US56ME.js","sourcesContent":["import {\n  ServiceKey,\n  ServiceMap,\n  ServiceRegistry,\n  ServiceType,\n} from \"types/service.types\";\n\nconst createServiceRegistry = (): ServiceRegistry => {\n  const services: Map<ServiceKey, ServiceType> = new Map<\n    ServiceKey,\n    ServiceType\n  >();\n\n  const register = <K extends ServiceKey>(\n    name: K,\n    service: ServiceMap[K]\n  ): void => {\n    if (services.has(name)) {\n      throw new Error(`Error : Redefining the service [${name}]`);\n    }\n    services.set(name, service);\n  };\n\n  const get = <K extends ServiceKey>(name: K): ServiceMap[K] => {\n    const service = services.get(name);\n    if (!service) {\n      throw new Error(\n        `Error : Trying to obtain value of an unregistered service ${name}`\n      );\n    }\n    return service as ServiceMap[K];\n  };\n\n  const has = (name: ServiceKey): boolean => {\n    return services.has(name);\n  };\n\n  return {\n    register: register,\n    get: get,\n    has: has,\n  };\n};\n\nlet serviceRegistry: ServiceRegistry | undefined = undefined;\n\nconst getServiceRegistry = () => {\n  if (!serviceRegistry) {\n    serviceRegistry = createServiceRegistry();\n  }\n\n  return serviceRegistry;\n};\n\nexport { getServiceRegistry };\n"]}