import {a as a$2}from'./chunk-OYCTBHFC.js';import {a}from'./chunk-S7M4EPWK.js';import {a as a$1}from'./chunk-H7XGBN2W.js';import {b}from'./chunk-P5V7ULDZ.js';var _=w=>{let{globalState:v,eventBusManager:t}=b(),n=a({camera:{},domMountTag:"game-engine"}),{scene:a$3,renderer:r,camera:s,controls:L}=n,d=a$1(w.loaderOptions,{globalState:v,loaderEventBus:t.loadingBus,renderer:r,scene:a$3}),i=a$2({player:{ids:{rootMesh:"player"}},ground:{ids:{groundRoot:"ground"}}}),o=()=>{let e=window.innerWidth,m=window.innerHeight;s.aspect=e/m,s.updateProjectionMatrix(),r.setSize(e,m);},c=e=>{e.key.toLowerCase()==="u"&&e.shiftKey&&(e.preventDefault(),t.debugBus.emit({type:"debug:inspector",scene:a$3}));},y=()=>{o(),window.addEventListener("resize",o),window.addEventListener("keydown",c);},f=()=>{y(),n.mount(),d.configure();},h=()=>{i.mount(),n.register(i.update);};return {mount:f,unmount:()=>{window.removeEventListener("resize",o),window.removeEventListener("keydown",c);},update:()=>{n.render();},load:async()=>{await d.loadAll(),h();}}};export{_ as a};//# sourceMappingURL=chunk-C5UXMXKD.js.map
//# sourceMappingURL=chunk-C5UXMXKD.js.map