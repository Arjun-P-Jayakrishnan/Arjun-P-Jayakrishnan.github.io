import {a as a$1}from'./chunk-BSY74MYA.js';import {a as a$3,b}from'./chunk-6PANP7XF.js';import {d}from'./chunk-XVFAGEG7.js';import {a as a$2}from'./chunk-G5KCWZYP.js';import {a}from'./chunk-P6US56ME.js';var M=(n,r)=>{let{height:t,width:o}={height:window.innerHeight,width:window.innerWidth};n.aspect=o/t,n.updateProjectionMatrix(),r.setSize(o,t);},y=(n,r,t)=>{n.key.toLowerCase()==="u"&&n.shiftKey&&(n.preventDefault(),r.emit({type:"debug:inspector",scene:t}));},I=()=>{let n=a(),r=n.get("Logger"),t=a$1({domMountId:d}),o,a$4=a$2(),s,i,h=()=>{M(o.get("camera"),o.get("renderer")),window.addEventListener("resize",s),window.addEventListener("keydown",i);},w=()=>{window.removeEventListener("resize",s),window.removeEventListener("keydown",i);};return {onInit:()=>{},onLoad:()=>[...b(t.onLoad()),a$3(r.onLoad,{origin:"Render-Manager"})],onMount:()=>[()=>{o=n.get("ThreeJSContextManager"),s=c=>M(o.get("camera"),o.get("renderer")),i=c=>y(c,n.get("EventBusManager").debugBus,o.get("scene"));},a$3(h),a$3(r.onMount,{origin:"Render-Manager"})],onUpdate:()=>[a$3(async()=>{try{await a$4.onMount();}catch{throw new Error("[Game Manager] Loading failed :${error}")}}),...b(t.onMount(()=>{})),a$3(t.onMount,a$4.update),a$3(t.onUpdate),a$3(r.onUpdate,0,{origin:"Render-Manager"})],onUnmount:()=>[a$3(w),a$3(a$4.onUnmount),a$3(t.onUnmount),a$3(r.onUnmount,{origin:"Render-Manager"})],onDestroy:()=>{r.onDestroy({origin:"RenderManager"});}}};export{I as a};//# sourceMappingURL=chunk-7ZROG5A6.js.map
//# sourceMappingURL=chunk-7ZROG5A6.js.map