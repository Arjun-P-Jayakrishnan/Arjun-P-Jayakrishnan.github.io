{"version":3,"sources":["../../../src/graphics/gameplay/camera.ts"],"sourcesContent":["import { PerspectiveCamera, Vector3 } from \"three\";\n\nexport interface CameraProps {\n  camera: PerspectiveCamera;\n}\n\nexport interface CameraControls {\n  update: (playerPosition: Vector3) => void;\n}\n\nconst CAMERA_CONSTANTS = {\n  THIRD_PERSON: {\n    OFFSET: new Vector3(0, 5, -10),\n  },\n  FIRST_PERSON: {\n    OFFSET: new Vector3(0, 0, 0),\n  },\n};\n\nlet tempData: {\n  position: Vector3;\n} = {\n  position: new Vector3(0, 0, 0),\n};\n\nexport const createCameraControls = (props: CameraProps): CameraControls => {\n  const { camera } = props;\n  let isThirdPerson: boolean = true;\n\n  const update = (playerPosition: Vector3) => {\n    if (isThirdPerson) {\n      tempData.position.copy(playerPosition);\n      tempData.position.add(CAMERA_CONSTANTS.THIRD_PERSON.OFFSET);\n\n      camera.position.lerp(tempData.position, 0.1);\n      camera.lookAt(playerPosition);\n    } else {\n      /**TODO: FPV */\n    }\n  };\n\n  return {\n    update: update,\n  };\n};\n"],"mappings":";AAAA,SAA4B,eAAe;AAU3C,IAAM,mBAAmB;AAAA,EACvB,cAAc;AAAA,IACZ,QAAQ,IAAI,QAAQ,GAAG,GAAG,GAAG;AAAA,EAC/B;AAAA,EACA,cAAc;AAAA,IACZ,QAAQ,IAAI,QAAQ,GAAG,GAAG,CAAC;AAAA,EAC7B;AACF;AAEA,IAAI,WAEA;AAAA,EACF,UAAU,IAAI,QAAQ,GAAG,GAAG,CAAC;AAC/B;AAEO,IAAM,uBAAuB,CAAC,UAAuC;AAC1E,QAAM,EAAE,OAAO,IAAI;AACnB,MAAI,gBAAyB;AAE7B,QAAM,SAAS,CAAC,mBAA4B;AAC1C,QAAI,eAAe;AACjB,eAAS,SAAS,KAAK,cAAc;AACrC,eAAS,SAAS,IAAI,iBAAiB,aAAa,MAAM;AAE1D,aAAO,SAAS,KAAK,SAAS,UAAU,GAAG;AAC3C,aAAO,OAAO,cAAc;AAAA,IAC9B,OAAO;AAAA,IAEP;AAAA,EACF;AAEA,SAAO;AAAA,IACL;AAAA,EACF;AACF;","names":[]}