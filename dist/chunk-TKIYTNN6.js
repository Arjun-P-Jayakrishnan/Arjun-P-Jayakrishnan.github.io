import {a as a$3}from'./chunk-GLOVEEDL.js';import {a as a$4}from'./chunk-2WMY54B6.js';import {a as a$2}from'./chunk-QN6TAM35.js';import {a as a$1}from'./chunk-AEEBPYE3.js';import {a}from'./chunk-NAQJJEVU.js';import {b}from'./chunk-P5V7ULDZ.js';import {Clock,Euler}from'three';var j=r=>{let{globalState:P,eventBusManager:D,globalStorage:x}=b(),y=new Clock,a$5,e,t={deltaTime:0,mouseRotation:{yaw:0,pitch:0},camera:{rotation:new Euler(0,0,0,"XYZ")}},o={deltaTime:0,playerData:null},g=()=>{a$5=a();let n=a$1();n.mount({mouse:{sensitivity:.01}});let l=a$2({ids:r.player.ids});l.create();let f=a$3({camera:a$5.getProperty("camera")}),m=a$4(r.ground);m.mount(),e={player:l,camera:f,ground:m,controllers:n};},C=()=>{o.deltaTime=y.getDelta(),isNaN(o.deltaTime)||(t.deltaTime=o.deltaTime);};return {mount:g,update:()=>{C(),t.mouseRotation=e.controllers.getController("mouse")?.getRotation(),o.playerData=e.player.update(t.deltaTime,t.mouseRotation,t.camera),t.camera=e.camera.update(o.playerData.position,t.mouseRotation),e.ground.update();},unmount:()=>{e.player.destroy(),e.controllers.unmount(),e.ground.unmount(),a$5.unmount(),e=null,a$5=null;}}};export{j as a};//# sourceMappingURL=chunk-TKIYTNN6.js.map
//# sourceMappingURL=chunk-TKIYTNN6.js.map