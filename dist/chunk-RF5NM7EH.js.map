{"version":3,"sources":["../src/2d/modules/visorHUD.ts"],"names":["initVisorHUD","visor","storyTitle","storySubtitle","sideNavLinks","sections","getSections","sec","el","lastSectionId","onScroll","scrollTop","closest","prev","curr","prevDist","link"],"mappings":"AAgBO,SAASA,CAAAA,EAA2B,CACzC,IAAMC,CAAAA,CAAQ,SAAS,cAAA,CAAe,OAAO,CAAA,CACvCC,CAAAA,CAAa,QAAA,CAAS,aAAA,CAC1B,yBACF,CAAA,CACMC,CAAAA,CAAgB,SAAS,aAAA,CAC7B,4BACF,EACMC,CAAAA,CAAe,KAAA,CAAM,IAAA,CACzB,QAAA,CAAS,gBAAA,CAAoC,kBAAkB,CACjE,CAAA,CAEA,GAAI,CAACH,CAAAA,EAAS,CAACC,GAAc,CAACC,CAAAA,CAAe,OAAO,IAAM,CAAC,CAAA,CAE3D,IAAME,CAAAA,CAAWC,CAAAA,EAAY,CAC1B,GAAA,CAAKC,CAAAA,EAAQ,CACZ,IAAMC,CAAAA,CAAK,QAAA,CAAS,cAAA,CAAeD,CAAAA,CAAI,EAAE,CAAA,CACzC,OAAOC,CAAAA,CAAK,CAAE,GAAGD,CAAAA,CAAK,EAAA,CAAAC,CAAG,CAAA,CAAI,IAC/B,CAAC,CAAA,CACA,MAAA,CAAQD,CAAAA,EAAkDA,IAAQ,IAAI,CAAA,CAErEE,EAA+B,IAAA,CAE7BC,CAAAA,CAAW,IAAM,CACrB,IAAMC,CAAAA,CAAYV,CAAAA,CAAM,SAAA,CAClBW,CAAAA,CAAUP,EAAS,MAAA,CAAO,CAACQ,EAAMC,CAAAA,GAAS,CAC9C,IAAMC,CAAAA,CAAW,IAAA,CAAK,GAAA,CAAIF,CAAAA,CAAK,EAAA,CAAG,SAAA,CAAYF,CAAS,CAAA,CAEvD,OADiB,IAAA,CAAK,GAAA,CAAIG,CAAAA,CAAK,EAAA,CAAG,UAAYH,CAAS,CAAA,CACrCI,CAAAA,CAAWD,CAAAA,CAAOD,CACtC,CAAA,CAAGR,EAAS,CAAC,CAAC,EAEVO,CAAAA,CAAQ,EAAA,GAAOH,IACjBP,CAAAA,CAAW,WAAA,CAAcU,CAAAA,CAAQ,KAAA,CACjCT,CAAAA,CAAc,WAAA,CAAcS,EAAQ,QAAA,CAGpCR,CAAAA,CAAa,QAASY,CAAAA,EACpBA,CAAAA,CAAK,UAAU,MAAA,CAAO,QAAA,CAAUA,CAAAA,CAAK,OAAA,CAAQ,OAAA,GAAYJ,CAAAA,CAAQ,EAAE,CACrE,CAAA,CACAH,EAAgBG,CAAAA,CAAQ,EAAA,EAE5B,EAEA,OAAAX,CAAAA,CAAM,gBAAA,CAAiB,QAAA,CAAUS,CAAAA,CAAU,CAAE,QAAS,IAAK,CAAC,CAAA,CAC5DA,CAAAA,EAAS,CAEF,IAAMT,EAAM,mBAAA,CAAoB,QAAA,CAAUS,CAAQ,CAC3D,CAEA,SAASJ,GAA6B,CACpC,OAAO,CACL,CACE,EAAA,CAAI,gBACJ,KAAA,CAAO,cAAA,CACP,QAAA,CAAU,kBACZ,CAAA,CACA,CAAE,GAAI,eAAA,CAAiB,KAAA,CAAO,OAAA,CAAS,QAAA,CAAU,wBAAyB,CAAA,CAC1E,CACE,EAAA,CAAI,oBAAA,CACJ,KAAA,CAAO,YAAA,CACP,QAAA,CAAU,eACZ,EACA,CACE,EAAA,CAAI,mBACJ,KAAA,CAAO,UAAA,CACP,SAAU,oBACZ,CAAA,CACA,CACE,EAAA,CAAI,mBAAA,CACJ,KAAA,CAAO,aACP,QAAA,CAAU,oBACZ,CAAA,CACA,CAAE,EAAA,CAAI,iBAAA,CAAmB,MAAO,SAAA,CAAW,QAAA,CAAU,eAAgB,CACvE,CACF","file":"chunk-RF5NM7EH.js","sourcesContent":["/**\n * @file visorHUD.ts\n * @description Handles the Visor HUD scroll tracking for the 2D portfolio.\n */\n\ninterface SectionData {\n  id: string;\n  title: string;\n  subtitle: string;\n}\n\n/**\n * Initialize the Visor HUD\n * Updates HUD elements (title/subtitle) based on scroll position\n * @returns A cleanup function to remove event listeners\n */\nexport function initVisorHUD(): () => void {\n  const visor = document.getElementById(\"visor\");\n  const storyTitle = document.querySelector<HTMLDivElement>(\n    \"#story-hud .story-title\",\n  );\n  const storySubtitle = document.querySelector<HTMLDivElement>(\n    \"#story-hud .story-subtitle\",\n  );\n  const sideNavLinks = Array.from(\n    document.querySelectorAll<HTMLAnchorElement>(\".visor-sidenav a\"),\n  );\n\n  if (!visor || !storyTitle || !storySubtitle) return () => {};\n\n  const sections = getSections()\n    .map((sec) => {\n      const el = document.getElementById(sec.id);\n      return el ? { ...sec, el } : null;\n    })\n    .filter((sec): sec is SectionData & { el: HTMLElement } => sec !== null);\n\n  let lastSectionId: string | null = null;\n\n  const onScroll = () => {\n    const scrollTop = visor.scrollTop;\n    const closest = sections.reduce((prev, curr) => {\n      const prevDist = Math.abs(prev.el.offsetTop - scrollTop);\n      const currDist = Math.abs(curr.el.offsetTop - scrollTop);\n      return currDist < prevDist ? curr : prev;\n    }, sections[0]);\n\n    if (closest.id !== lastSectionId) {\n      storyTitle.textContent = closest.title;\n      storySubtitle.textContent = closest.subtitle;\n\n      // ðŸ”¹ Side nav sync\n      sideNavLinks.forEach((link) =>\n        link.classList.toggle(\"active\", link.dataset.section === closest.id),\n      );\n      lastSectionId = closest.id;\n    }\n  };\n\n  visor.addEventListener(\"scroll\", onScroll, { passive: true });\n  onScroll(); // initial update\n\n  return () => visor.removeEventListener(\"scroll\", onScroll);\n}\n\nfunction getSections(): SectionData[] {\n  return [\n    {\n      id: \"section-intro\",\n      title: \"INTRODUCTION\",\n      subtitle: \"DECODING SUBJECT\",\n    },\n    { id: \"section-about\", title: \"ABOUT\", subtitle: \"WHO IS INSIDE THE SUIT\" },\n    {\n      id: \"section-experience\",\n      title: \"EXPERIENCE\",\n      subtitle: \"TYPES OF WORK\",\n    },\n    {\n      id: \"section-projects\",\n      title: \"PROJECTS\",\n      subtitle: \"PORTFOLIO SHOWCASE\",\n    },\n    {\n      id: \"section-techstack\",\n      title: \"TECH STACK\",\n      subtitle: \"TOOLS & FRAMEWORKS\",\n    },\n    { id: \"section-contact\", title: \"CONTACT\", subtitle: \"LET'S CONNECT\" },\n  ];\n}\n"]}