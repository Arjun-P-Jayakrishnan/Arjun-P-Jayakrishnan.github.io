{"version":3,"sources":["../../../../src/engine/managers/animation/ParamaterManager.ts"],"names":["AnimationParametersManager","definitions","def","name","value","l","listener"],"mappings":"AAaO,IAAMA,CAAAA,CAAN,KAAiC,CAItC,WAAA,CAAYC,EAAkD,CAH9D,IAAA,CAAQ,MAAA,CAAS,IAAI,GAAA,CACrB,IAAA,CAAQ,SAAA,CAAY,IAAI,IAItB,IAAA,IAAWC,CAAAA,IAAOD,CAAAA,CAChB,IAAA,CAAK,MAAA,CAAO,GAAA,CAAIC,CAAAA,CAAI,IAAA,CAAMA,EAAI,YAAY,EAE9C,CAGA,GAAA,CAAIC,EAAmC,CACrC,OAAO,IAAA,CAAK,MAAA,CAAO,IAAIA,CAAI,CAC7B,CAGA,GAAA,CAAIA,CAAAA,CAAcC,CAAAA,CAA4B,CAC5C,IAAA,CAAK,OAAO,GAAA,CAAID,CAAAA,CAAMC,CAAK,CAAA,CAC3B,IAAA,CAAK,SAAA,CAAU,OAAA,CAASC,CAAAA,EAAMA,EAAEF,CAAAA,CAAMC,CAAK,CAAC,EAC9C,CAMA,QAAA,CAASE,CAAAA,CAA8C,CACrD,YAAK,SAAA,CAAU,GAAA,CAAIA,CAAQ,CAAA,CACpB,IAAM,IAAA,CAAK,SAAA,CAAU,MAAA,CAAOA,CAAQ,CAC7C,CACF","file":"ParamaterManager.js","sourcesContent":["import { AnimationParamDefinition, AnimationParamValue } from \"./Parameters\";\n\n/**\n * Listener for parameter changes\n */\nexport type AnimationParamListener = (\n  name: string,\n  value: AnimationParamValue\n) => void;\n\n/**\n * Manager / store for animation parameters with reactive signals\n */\nexport class AnimationParametersManager {\n  private values = new Map<string, AnimationParamValue>();\n  private listeners = new Set<AnimationParamListener>();\n\n  constructor(definitions: readonly AnimationParamDefinition[]) {\n    // Initialize defaults\n    for (const def of definitions) {\n      this.values.set(def.name, def.defaultValue);\n    }\n  }\n\n  /** Get a parameter value */\n  get(name: string): AnimationParamValue {\n    return this.values.get(name)!;\n  }\n\n  /** Set a parameter value and notify listeners */\n  set(name: string, value: AnimationParamValue) {\n    this.values.set(name, value);\n    this.listeners.forEach((l) => l(name, value));\n  }\n\n  /**\n   * Subscribe to parameter changes.\n   * Returns an unsubscribe function.\n   */\n  onChange(listener: AnimationParamListener): () => void {\n    this.listeners.add(listener);\n    return () => this.listeners.delete(listener);\n  }\n}\n"]}