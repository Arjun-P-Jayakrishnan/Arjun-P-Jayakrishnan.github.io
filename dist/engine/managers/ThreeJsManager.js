import {Scene,PerspectiveCamera,WebGLRenderer}from'three';import {OrbitControls}from'three/examples/jsm/controls/OrbitControls.js';function s(n,...a){return ()=>n(...a)}var y={fov:75,aspectRatio:window.innerWidth/window.innerHeight,near:.1,far:1e3};var M=()=>{let n=new Map;return {register:(r,o)=>{if(n.has(r))throw new Error(`Error : Redefining the service [${r}]`);n.set(r,o);},get:r=>{let o=n.get(r);if(!o)throw new Error(`Error : Trying to obtain value of an unregistered service ${r}`);return o},has:r=>n.has(r)}},m,u=()=>(m||(m=M()),m);var U=n=>{let{fov:a,aspectRatio:g,near:p,far:r}=y,o=new Scene,d=new PerspectiveCamera(a,g,p,r),t=new WebGLRenderer({antialias:true}),v,S=null,i=null,c=u().get("ThreeJSContextManager"),l=u().get("Logger"),T=e=>{let f=document.getElementById(e);t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(window.devicePixelRatio),f?(f.appendChild(t.domElement),v=new OrbitControls(d,t.domElement)):console.warn(`Could not find element with selector tag : ${e}`);},h=()=>{c.set("scene",o),c.set("camera",d),c.set("orbit",v),c.set("renderer",t);};return {onLoad:()=>[s(T,n.domMountId),s(h),s(l.onLoad,{origin:"ThreeJs-Manager"})],onMount:e=>[()=>{S=e;},s(l.onMount,{origin:"ThreeJs-Manager"})],onUpdate:()=>{if(i!==null)return;let e=()=>{i=requestAnimationFrame(e),S?.(),t.render(o,d);};e();},onUnmount:()=>{let e=document.getElementById(n.domMountId);i!==null&&(cancelAnimationFrame(i),i=0),e&&t.domElement.parentElement===e&&e.removeChild(t.domElement),t.dispose(),l.onUnmount({origin:"ThreeJs-Manager"});},onDestroy:()=>{}}};export{U as createThreeJsInstance};//# sourceMappingURL=ThreeJsManager.js.map
//# sourceMappingURL=ThreeJsManager.js.map