{"version":3,"sources":["../src/components/gallery.ts"],"sourcesContent":["import { EventBus } from \"@utils/event_management/eventBus\";\r\nimport { EventBusManager } from \"@utils/event_management/eventBusFactory\";\r\nimport { DisplayEvents } from \"@utils/event_management/eventType\";\r\nimport { CardMarshall } from \"./card\";\r\n\r\nconst template = document.createElement(\"template\");\r\ntemplate.innerHTML = `\r\n    <link rel=\"stylesheet\" href=\"/style/gallery.css\">\r\n    <div class=\"gallery hidden\" id=\"gallery\">\r\n    </div>\r\n`;\r\n\r\nexport class ProjectGallery extends HTMLElement {\r\n  root: ShadowRoot;\r\n  gallery: HTMLElement | null;\r\n\r\n  displayEventBus: EventBus<DisplayEvents> | undefined;\r\n\r\n  constructor() {\r\n    super();\r\n    this.root = this.attachShadow({ mode: \"open\" });\r\n    const clone = template.content.cloneNode(true);\r\n    this.root.appendChild(clone);\r\n\r\n    this.gallery = this.root.getElementById(\"gallery\");\r\n  }\r\n\r\n  set eventBusManager(eventBusManager: EventBusManager) {\r\n    this.displayEventBus = eventBusManager.displayBus;\r\n  }\r\n\r\n  showComponent(_: any) {\r\n    console.log(\"gallery shown \");\r\n    this.gallery?.classList.remove(\"hidden\");\r\n  }\r\n\r\n  hideComponent(_: any) {\r\n    console.log(\"gallery hidden\");\r\n    this.gallery?.classList.add(\"hidden\");\r\n  }\r\n\r\n  async connectedCallback() {\r\n    console.log(\"fetching data\");\r\n    const res = await fetch(\"/public/data/projects.json\");\r\n    const projects = await res.json();\r\n\r\n    (projects[\"projects\"] as Array<CardMarshall>).forEach((cardProps) => {\r\n      const projectElement = document.createElement(\"project-card\");\r\n      projectElement.setAttribute(\"title\", cardProps.title);\r\n      projectElement.setAttribute(\"image\", cardProps.imageUrl);\r\n      projectElement.setAttribute(\"description\", cardProps.description);\r\n      projectElement.setAttribute(\"tags\", cardProps.tags ?? \"\");\r\n      projectElement.setAttribute(\"github_link\", cardProps.linkUrl);\r\n\r\n      this.gallery?.appendChild(projectElement);\r\n    });\r\n\r\n    this.displayEventBus?.on(\"project:show\", (data) => {\r\n      this.showComponent(data);\r\n    });\r\n    this.displayEventBus?.on(\"project:hide\", (data) => {\r\n      this.hideComponent(data);\r\n    });\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.displayEventBus?.off(\"project:show\", (data) => {\r\n      this.showComponent(data);\r\n    });\r\n    this.displayEventBus?.off(\"project:hide\", (data) => {\r\n      this.hideComponent(data);\r\n    });\r\n  }\r\n}\r\n"],"mappings":";AAKA,IAAM,WAAW,SAAS,cAAc,UAAU;AAClD,SAAS,YAAY;AAAA;AAAA;AAAA;AAAA;AAMd,IAAM,iBAAN,cAA6B,YAAY;AAAA,EAM9C,cAAc;AACZ,UAAM;AACN,SAAK,OAAO,KAAK,aAAa,EAAE,MAAM,OAAO,CAAC;AAC9C,UAAM,QAAQ,SAAS,QAAQ,UAAU,IAAI;AAC7C,SAAK,KAAK,YAAY,KAAK;AAE3B,SAAK,UAAU,KAAK,KAAK,eAAe,SAAS;AAAA,EACnD;AAAA,EAEA,IAAI,gBAAgB,iBAAkC;AACpD,SAAK,kBAAkB,gBAAgB;AAAA,EACzC;AAAA,EAEA,cAAc,GAAQ;AACpB,YAAQ,IAAI,gBAAgB;AAC5B,SAAK,SAAS,UAAU,OAAO,QAAQ;AAAA,EACzC;AAAA,EAEA,cAAc,GAAQ;AACpB,YAAQ,IAAI,gBAAgB;AAC5B,SAAK,SAAS,UAAU,IAAI,QAAQ;AAAA,EACtC;AAAA,EAEA,MAAM,oBAAoB;AACxB,YAAQ,IAAI,eAAe;AAC3B,UAAM,MAAM,MAAM,MAAM,4BAA4B;AACpD,UAAM,WAAW,MAAM,IAAI,KAAK;AAEhC,IAAC,SAAS,UAAU,EAA0B,QAAQ,CAAC,cAAc;AACnE,YAAM,iBAAiB,SAAS,cAAc,cAAc;AAC5D,qBAAe,aAAa,SAAS,UAAU,KAAK;AACpD,qBAAe,aAAa,SAAS,UAAU,QAAQ;AACvD,qBAAe,aAAa,eAAe,UAAU,WAAW;AAChE,qBAAe,aAAa,QAAQ,UAAU,QAAQ,EAAE;AACxD,qBAAe,aAAa,eAAe,UAAU,OAAO;AAE5D,WAAK,SAAS,YAAY,cAAc;AAAA,IAC1C,CAAC;AAED,SAAK,iBAAiB,GAAG,gBAAgB,CAAC,SAAS;AACjD,WAAK,cAAc,IAAI;AAAA,IACzB,CAAC;AACD,SAAK,iBAAiB,GAAG,gBAAgB,CAAC,SAAS;AACjD,WAAK,cAAc,IAAI;AAAA,IACzB,CAAC;AAAA,EACH;AAAA,EAEA,uBAAuB;AACrB,SAAK,iBAAiB,IAAI,gBAAgB,CAAC,SAAS;AAClD,WAAK,cAAc,IAAI;AAAA,IACzB,CAAC;AACD,SAAK,iBAAiB,IAAI,gBAAgB,CAAC,SAAS;AAClD,WAAK,cAAc,IAAI;AAAA,IACzB,CAAC;AAAA,EACH;AACF;","names":[]}