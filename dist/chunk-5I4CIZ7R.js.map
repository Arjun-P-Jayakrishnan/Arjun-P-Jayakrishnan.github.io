{"version":3,"sources":["../src/components/website/gallery.ts"],"sourcesContent":["import { EventBus } from \"@utils/event_management/eventBus\";\nimport { EventBusManager } from \"@utils/event_management/eventBusFactory\";\nimport { DisplayEvents } from \"@utils/event_management/eventType\";\nimport { CardMarshall } from \"./card\";\n\nconst template = document.createElement(\"template\");\ntemplate.innerHTML = `\n    <link rel=\"stylesheet\" href=\"/style/gallery.css\">\n    <div class=\"gallery hidden\" id=\"gallery\">\n    </div>\n`;\n\nexport class ProjectGallery extends HTMLElement {\n  root: ShadowRoot;\n  gallery: HTMLElement | null;\n\n  displayEventBus: EventBus<DisplayEvents> | undefined;\n\n  constructor() {\n    super();\n    this.root = this.attachShadow({ mode: \"open\" });\n    const clone = template.content.cloneNode(true);\n    this.root.appendChild(clone);\n\n    this.gallery = this.root.getElementById(\"gallery\");\n  }\n\n  set eventBusManager(eventBusManager: EventBusManager) {\n    this.displayEventBus = eventBusManager.displayBus;\n  }\n\n  showComponent(_: any) {\n    console.log(\"gallery shown \");\n    this.gallery?.classList.remove(\"hidden\");\n  }\n\n  hideComponent(_: any) {\n    this.gallery?.classList.add(\"hidden\");\n  }\n\n  async connectedCallback() {\n    const res = await fetch(\"/public/data/projects.json\");\n    const projects = await res.json();\n\n    (projects[\"projects\"] as Array<CardMarshall>).forEach((cardProps) => {\n      const projectElement = document.createElement(\"project-card\");\n      projectElement.setAttribute(\"title\", cardProps.title);\n      projectElement.setAttribute(\"image\", cardProps.imageUrl);\n      projectElement.setAttribute(\"description\", cardProps.description);\n      projectElement.setAttribute(\"tags\", cardProps.tags ?? \"\");\n      projectElement.setAttribute(\"github_link\", cardProps.linkUrl);\n\n      this.gallery?.appendChild(projectElement);\n    });\n\n    this.displayEventBus?.on(\"project:show\", (data) => {\n      this.showComponent(data);\n    });\n    this.displayEventBus?.on(\"project:hide\", (data) => {\n      this.hideComponent(data);\n    });\n  }\n\n  disconnectedCallback() {\n    this.displayEventBus?.off(\"project:show\", (data) => {\n      this.showComponent(data);\n    });\n    this.displayEventBus?.off(\"project:hide\", (data) => {\n      this.hideComponent(data);\n    });\n  }\n}\n"],"mappings":";AAKA,IAAM,WAAW,SAAS,cAAc,UAAU;AAClD,SAAS,YAAY;AAAA;AAAA;AAAA;AAAA;AAMd,IAAM,iBAAN,cAA6B,YAAY;AAAA,EAM9C,cAAc;AACZ,UAAM;AACN,SAAK,OAAO,KAAK,aAAa,EAAE,MAAM,OAAO,CAAC;AAC9C,UAAM,QAAQ,SAAS,QAAQ,UAAU,IAAI;AAC7C,SAAK,KAAK,YAAY,KAAK;AAE3B,SAAK,UAAU,KAAK,KAAK,eAAe,SAAS;AAAA,EACnD;AAAA,EAEA,IAAI,gBAAgB,iBAAkC;AACpD,SAAK,kBAAkB,gBAAgB;AAAA,EACzC;AAAA,EAEA,cAAc,GAAQ;AACpB,YAAQ,IAAI,gBAAgB;AAC5B,SAAK,SAAS,UAAU,OAAO,QAAQ;AAAA,EACzC;AAAA,EAEA,cAAc,GAAQ;AACpB,SAAK,SAAS,UAAU,IAAI,QAAQ;AAAA,EACtC;AAAA,EAEA,MAAM,oBAAoB;AACxB,UAAM,MAAM,MAAM,MAAM,4BAA4B;AACpD,UAAM,WAAW,MAAM,IAAI,KAAK;AAEhC,IAAC,SAAS,UAAU,EAA0B,QAAQ,CAAC,cAAc;AACnE,YAAM,iBAAiB,SAAS,cAAc,cAAc;AAC5D,qBAAe,aAAa,SAAS,UAAU,KAAK;AACpD,qBAAe,aAAa,SAAS,UAAU,QAAQ;AACvD,qBAAe,aAAa,eAAe,UAAU,WAAW;AAChE,qBAAe,aAAa,QAAQ,UAAU,QAAQ,EAAE;AACxD,qBAAe,aAAa,eAAe,UAAU,OAAO;AAE5D,WAAK,SAAS,YAAY,cAAc;AAAA,IAC1C,CAAC;AAED,SAAK,iBAAiB,GAAG,gBAAgB,CAAC,SAAS;AACjD,WAAK,cAAc,IAAI;AAAA,IACzB,CAAC;AACD,SAAK,iBAAiB,GAAG,gBAAgB,CAAC,SAAS;AACjD,WAAK,cAAc,IAAI;AAAA,IACzB,CAAC;AAAA,EACH;AAAA,EAEA,uBAAuB;AACrB,SAAK,iBAAiB,IAAI,gBAAgB,CAAC,SAAS;AAClD,WAAK,cAAc,IAAI;AAAA,IACzB,CAAC;AACD,SAAK,iBAAiB,IAAI,gBAAgB,CAAC,SAAS;AAClD,WAAK,cAAc,IAAI;AAAA,IACzB,CAAC;AAAA,EACH;AACF;","names":[]}