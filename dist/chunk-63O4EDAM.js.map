{"version":3,"sources":["../src/graphics/materials/grid/grid-material.ts"],"sourcesContent":["import { PerspectiveCamera, ShaderMaterial, Vector3 } from \"three\";\nimport { GridFragment } from \"./grid-fragment\";\nimport { GridVertex } from \"./grid-vertex\";\n\nexport interface GridMaterialProps {\n  camera: PerspectiveCamera;\n  fadeNear: number;\n  fadeFar: number;\n}\n\nexport interface GridMaterial {\n  mat: ShaderMaterial;\n  update: (cameraPos: Vector3) => void;\n}\n\nexport const createGridMaterial = (props: GridMaterialProps) => {\n  const mat: ShaderMaterial = new ShaderMaterial({\n    uniforms: {\n      time: { value: 1 },\n      cameraPos: { value: props.camera.position },\n      fadeNear: { value: props.fadeNear },\n      fadeFar: { value: props.fadeFar },\n    },\n    vertexShader: GridVertex,\n    fragmentShader: GridFragment,\n  });\n\n  const update = (cameraPos: Vector3) => {\n    mat.uniforms.cameraPos.value = cameraPos;\n  };\n\n  return {\n    mat: mat,\n    update: update,\n  };\n};\n"],"mappings":"gFAAA,OAA4B,kBAAAA,MAA+B,QAepD,IAAMC,EAAsBC,GAA6B,CAC9D,IAAMC,EAAsB,IAAIC,EAAe,CAC7C,SAAU,CACR,KAAM,CAAE,MAAO,CAAE,EACjB,UAAW,CAAE,MAAOF,EAAM,OAAO,QAAS,EAC1C,SAAU,CAAE,MAAOA,EAAM,QAAS,EAClC,QAAS,CAAE,MAAOA,EAAM,OAAQ,CAClC,EACA,aAAcG,EACd,eAAgBC,CAClB,CAAC,EAMD,MAAO,CACL,IAAKH,EACL,OANcI,GAAuB,CACrCJ,EAAI,SAAS,UAAU,MAAQI,CACjC,CAKA,CACF","names":["ShaderMaterial","createGridMaterial","props","mat","ShaderMaterial","GridVertex","GridFragment","cameraPos"]}