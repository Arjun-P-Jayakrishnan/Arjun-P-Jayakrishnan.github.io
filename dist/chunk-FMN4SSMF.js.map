{"version":3,"sources":["../src/components/about/experience.ts"],"names":["template","ExperiencePage","clone","header","li","details","d","button","index","collapsibleElement","fn","e","data","main","title","company","meta","duration","location","responsibilities","documentFragment","responsibility","_li","entry","dataList"],"mappings":"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","file":"chunk-FMN4SSMF.js","sourcesContent":["const template = document.createElement(\"template\");\ntemplate.innerHTML = `\n    <link rel=\"stylesheet\" href=\"/style/experience.css\">\n    <div class=\"experience\">\n        <ul class=\"job-list\">\n          <li class=\"job-item\">\n            <div class=\"job-header\">\n              <h3 class=\"job-title\">Title</h3>\n              <h5 class=\"job-duration\">Duration</h5>\n            </div>\n            <div class=\"job-details\">\n              <ul class=\"job-responsibilities\">\n                <li class=\"job-responsibility-item\">Done task which improved some item</li>\n              </ul>\n            </div>\n          </li>\n        </ul>\n    </div>\n`;\n\ninterface Components {\n  root: HTMLDivElement | null;\n  jobList: HTMLUListElement | null;\n}\n\nexport interface JobExperience {\n  title: string;\n  company: string;\n  duration: string;\n  location: string;\n  responsibilities: string[];\n}\n\nexport class ExperiencePage extends HTMLElement {\n  root: ShadowRoot;\n  components: Components;\n  events: Record<\n    string,\n    { button: HTMLButtonElement; callback: (e: Event) => void }\n  > = {};\n\n  constructor() {\n    super();\n    this.root = this.attachShadow({ mode: \"open\" });\n\n    const clone = template.content.cloneNode(true);\n\n    this.root.appendChild(clone);\n\n    this.components = {\n      root: this.root.querySelector(\".experience\") as HTMLDivElement,\n      jobList: this.root.querySelector(\".job-list\") as HTMLUListElement,\n    };\n  }\n\n  connectedCallback() {}\n\n  disconnectedCallback() {}\n\n  private bindEvents(header: HTMLDivElement, li: HTMLLIElement) {\n    console.log(header, li);\n    header.addEventListener(\"click\", () => {\n      const details = li.querySelector(\".job-details\") as HTMLDivElement;\n      this.components.jobList\n        ?.querySelectorAll(\".job-details.active\")\n        .forEach((d) => {\n          if (d !== details) d.classList.remove(\"active\");\n        });\n\n      console.log(\"toggle visibility\");\n\n      details.classList.toggle(\"active\");\n    });\n  }\n\n  private addEvent(\n    button: HTMLButtonElement,\n    index: number,\n    collapsibleElement: HTMLDivElement\n  ) {\n    const fn = (e: Event) => {\n      collapsibleElement.classList.toggle(\"hidden\");\n      console.log(\"button is clicked \", index);\n    };\n    this.events[`button :${index}`] = {\n      button: button,\n      callback: fn,\n    };\n    button.addEventListener(\"click\", fn);\n    console.log(\"attaching event\", index);\n  }\n\n  private addJobExperience(data: {\n    title: string;\n    company: string;\n    location: string;\n    duration: string;\n    responsibilities: string[];\n    index: number;\n  }): HTMLLIElement {\n    const li = document.createElement(\"li\");\n    li.classList.add(\"job-item\");\n\n    const header = document.createElement(\"div\");\n    header.classList.add(\"job-header\");\n\n    const main = document.createElement(\"div\");\n    main.classList.add(\"job-main\");\n\n    const title = document.createElement(\"h3\");\n    title.classList.add(\"job-title\");\n    title.textContent = data.title;\n    main.appendChild(title);\n\n    if (data.company) {\n      const company = document.createElement(\"h5\");\n      company.classList.add(\"job-company\");\n      company.textContent = data.company;\n      main.appendChild(company);\n    }\n\n    const meta = document.createElement(\"div\");\n    meta.classList.add(\"job-meta\");\n\n    const duration = document.createElement(\"h5\");\n    duration.classList.add(\"job-duration\");\n    duration.textContent = data.duration;\n    meta.appendChild(duration);\n\n    if (data.location) {\n      const location = document.createElement(\"span\");\n      location.classList.add(\"job-location\");\n      location.textContent = data.location;\n      meta.appendChild(location);\n    }\n\n    header.appendChild(main);\n    header.appendChild(meta);\n    // header.appendChild(button);\n\n    const details = document.createElement(\"div\");\n    details.classList.add(\"job-details\");\n    // details.classList.add(\"hidden\");\n\n    // this.addEvent(button, data.index, details);\n\n    const responsibilities = document.createElement(\"ul\");\n    responsibilities.classList.add(\"job-responsibilities\");\n\n    const documentFragment = document.createDocumentFragment();\n\n    data.responsibilities.forEach((responsibility) => {\n      const _li = document.createElement(\"li\");\n      _li.classList.add(\"job-responsibility-item\");\n      _li.textContent = responsibility;\n      documentFragment.appendChild(_li);\n    });\n\n    responsibilities.appendChild(documentFragment);\n    details.appendChild(responsibilities);\n    li.appendChild(header);\n    li.appendChild(details);\n\n    this.bindEvents(header, li);\n\n    return li;\n  }\n\n  private removeEvents() {\n    console.log(\"remove all\");\n    Object.entries(this.events).forEach((entry) => {\n      entry[1].button.removeEventListener(\"click\", entry[1].callback);\n    });\n  }\n\n  private inflateCarousel(dataList: Array<JobExperience>) {\n    if (!this.components.jobList) return;\n    this.removeEvents();\n    this.components.jobList.innerHTML = \"\";\n\n    dataList.forEach((data, index) => {\n      this.components.jobList?.appendChild(\n        this.addJobExperience({\n          ...data,\n          index: index,\n        })\n      );\n    });\n  }\n\n  set Experience(data: Array<JobExperience>) {\n    console.log(\"experience\", data);\n    this.inflateCarousel(data);\n  }\n}\n"]}