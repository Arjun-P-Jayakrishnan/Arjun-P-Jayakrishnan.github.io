{"version":3,"sources":["../src/components/website/navbar/header.ts"],"names":["template","Navbar","e","key","showEvent","hideEvent","id","showHandler","processPipelineDebugger","hideHandler","clone","eventBusManager"],"mappings":"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","file":"chunk-AXXP7XPN.js","sourcesContent":["import { EventBus } from \"@managers/events/eventBus\";\nimport { EventBusManager } from \"@managers/events/eventBusFactory\";\nimport { DisplayEvents } from \"@managers/events/eventType\";\nimport { processPipelineDebugger } from \"debug/debugger\";\n\nconst template = document.createElement(\"template\");\n\ntemplate.innerHTML = `\n  <link rel=\"stylesheet\" href=\"/style/header.css\"/>\n  <nav class=\"navbar\" id=\"main-nav\">\n      <div class=\"logo\">Logo</div>\n      <button class=\"toggle-btn\" aria-expanded=\"false\" aria-controls=\"main-nav\">&#9776</button>\n      <ul class=\"nav-links\">\n          <li><a href=\"\" id=\"home\">Home</a></li>\n          <li><a href=\"\" id=\"about\">About</a></li>\n          <li><a href=\"\" id=\"projects\">Projects</a></li>\n          <li><a href=\"\" id=\"contact\">Contact</a></li>\n      </ul>\n  </nav>\n`;\n\ntype TabKeys = \"home\" | \"about\" | \"project\" | \"contact\";\n\ninterface State {\n  hamburgerMenu: {\n    isOpen: boolean;\n    isTransitioning: boolean;\n  };\n  activeTab: TabKeys;\n}\n\ninterface Components {\n  toggleBtn: HTMLElement | null;\n  navLinks: HTMLElement | null;\n  projects: HTMLAnchorElement | null;\n  about: HTMLAnchorElement | null;\n  home: HTMLAnchorElement | null;\n  contact: HTMLAnchorElement | null;\n}\n\nexport class Navbar extends HTMLElement {\n  //State\n  private state: State = {\n    hamburgerMenu: {\n      isOpen: false,\n      isTransitioning: false,\n    },\n    activeTab: \"home\",\n  };\n\n  private displayEventBus: EventBus<DisplayEvents> | null = null;\n  private components: Components = {\n    about: null,\n    navLinks: null,\n    projects: null,\n    contact: null,\n    home: null,\n    toggleBtn: null,\n  };\n\n  root: ShadowRoot;\n\n  busHandlers: Record<\n    `${TabKeys}:show` | `${TabKeys}:hide`,\n    (e: DisplayEvents) => void\n  > | null = null;\n  sections = [\"project\", \"about\", \"contact\", \"home\"] as const;\n\n  constructor() {\n    super();\n    this.root = this.attachShadow({ mode: \"open\" });\n    const clone = template.content.cloneNode(true);\n    this.root.appendChild(clone);\n    this.queryElements();\n  }\n\n  static get observedAttributes() {\n    return [];\n  }\n\n  /**\n   * @description called when the component is mounted\n   */\n  connectedCallback() {\n    this.bindEvents();\n    this.setupBusListeners();\n  }\n\n  /**\n   * @description called when component is un mounted\n   */\n  disconnectedCallback() {\n    this.unBindEvents();\n    this.disposeBusListeners();\n  }\n\n  queryElements() {\n    this.components.toggleBtn = this.root.querySelector(\".toggle-btn\");\n    this.components.navLinks = this.root.querySelector(\".nav-links\");\n\n    if (this.components.navLinks) {\n      this.components.projects =\n        this.components.navLinks.querySelector(\"#projects\");\n\n      this.components.about = this.components.navLinks.querySelector(\"#about\");\n\n      this.components.contact =\n        this.components.navLinks.querySelector(\"#contact\");\n\n      this.components.home = this.components.navLinks.querySelector(\"#home\");\n    }\n  }\n\n  bindEvents() {\n    this.components.toggleBtn?.addEventListener(\"click\", this.onToggleClick);\n    this.components.navLinks?.addEventListener(\n      \"transitionend\",\n      this.onAnimationEnd\n    );\n    this.components.projects?.addEventListener(\"click\", this.onProjectClick);\n    this.components.about?.addEventListener(\"click\", this.onAboutClick);\n    this.components.home?.addEventListener(\"click\", this.onHomeClick);\n    this.components.contact?.addEventListener(\"click\", this.onContactClick);\n  }\n\n  unBindEvents() {\n    this.components.toggleBtn?.removeEventListener(\"click\", this.onToggleClick);\n    this.components.navLinks?.removeEventListener(\n      \"transitionend\",\n      this.onAnimationEnd\n    );\n    this.components.projects?.removeEventListener(\"click\", this.onProjectClick);\n    this.components.about?.removeEventListener(\"click\", this.onAboutClick);\n    this.components.home?.removeEventListener(\"click\", this.onHomeClick);\n    this.components.contact?.removeEventListener(\"click\", this.onContactClick);\n  }\n\n  /***\n   * @description on Click handler for hamburger menu closing or opening\n   */\n  toggleHamburgerMenu = (): void => {\n    if (!this.components.navLinks) return;\n    if (this.state.hamburgerMenu.isTransitioning) return;\n\n    this.state.hamburgerMenu.isTransitioning = true;\n    this.components.navLinks.classList.toggle(\n      \"open\",\n      !this.state.hamburgerMenu.isOpen\n    );\n    this.components.navLinks.classList.toggle(\n      \"closing\",\n      this.state.hamburgerMenu.isOpen\n    );\n    this.state.hamburgerMenu.isOpen = !this.state.hamburgerMenu.isOpen;\n\n    this.components?.toggleBtn?.setAttribute(\n      \"aria-expanded\",\n      String(this.state.hamburgerMenu.isOpen)\n    );\n  };\n\n  /**\n   * @description handle the transition end\n   * @param e event triggered\n   */\n  handleTransitionEnd = (e: Event) => {\n    if ((e as TransitionEvent).propertyName !== \"transform\") return;\n\n    this.components.navLinks?.classList.remove(\"closing\");\n    this.state.hamburgerMenu.isTransitioning = false;\n  };\n\n  toggleSections = <K extends DisplayEvents[\"elementId\"]>(e: Event, key: K) => {\n    if (this.state.activeTab == key) return;\n    e.preventDefault();\n\n    const showEvent = {\n      elementId: key,\n      type: `${key}:show`,\n    } as DisplayEvents;\n\n    const hideEvent = {\n      elementId: key,\n      type: `${this.state.activeTab}:hide`,\n    } as DisplayEvents;\n\n    this.displayEventBus?.emit(hideEvent);\n    this.displayEventBus?.emit(showEvent);\n  };\n\n  private onToggleClick = (e: Event) => this.toggleHamburgerMenu();\n  private onAnimationEnd = (e: Event) => this.handleTransitionEnd(e);\n  private onProjectClick = (e: Event) => this.toggleSections(e, \"project\");\n  private onAboutClick = (e: Event) => this.toggleSections(e, \"about\");\n  private onHomeClick = (e: Event) => this.toggleSections(e, \"home\");\n  private onContactClick = (e: Event) => this.toggleSections(e, \"contact\");\n\n  setupBusListeners = () => {\n    if (!this.displayEventBus) return;\n\n    this.sections.forEach((id) => {\n      const showHandler = (e: DisplayEvents) => {\n        processPipelineDebugger.onMount(`[${id}]-component`);\n      };\n      const hideHandler = (e: DisplayEvents) => {\n        processPipelineDebugger.onUnmount(`[${id}]-component`);\n      };\n\n      this.displayEventBus?.on(`${id}:show`, showHandler);\n      this.displayEventBus?.on(`${id}:hide`, hideHandler);\n\n      if (!this.busHandlers) return;\n\n      this.busHandlers[`${id}:show`] = showHandler;\n      this.busHandlers[`${id}:hide`] = hideHandler;\n    });\n  };\n\n  disposeBusListeners = () => {\n    if (!this.displayEventBus) return;\n\n    this.sections.forEach((id) => {\n      if (!this.busHandlers) return;\n\n      this.displayEventBus?.off(`${id}:show`, this.busHandlers[`${id}:show`]);\n      this.displayEventBus?.off(`${id}:hide`, this.busHandlers[`${id}:hide`]);\n    });\n  };\n\n  set eventBusManager(eventBusManager: EventBusManager) {\n    this.displayEventBus = eventBusManager.displayBus;\n  }\n}\n"]}