{"version":3,"sources":["../../../src/2d/modules/intro.ts"],"names":["showIntro","resolve","boot","lines","lineIndex","typeLine","el","text","i","interval","startNextLine","finishBoot"],"mappings":"AAIO,SAASA,CAAAA,EAA2B,CACzC,OAAO,IAAI,OAAA,CAASC,CAAAA,EAAY,CAC9B,OAAA,CAAQ,GAAA,CAAI,iCAAiC,CAAA,CAC7C,IAAMC,EAAO,QAAA,CAAS,cAAA,CAAe,YAAY,CAAA,CACjD,GAAI,CAACA,CAAAA,CAAM,CACT,OAAA,CAAQ,GAAA,CAAI,mBAAmB,CAAA,CAC/BD,CAAAA,EAAQ,CACR,MACF,CAEA,IAAME,CAAAA,CAAQ,KAAA,CAAM,IAAA,CAClBD,CAAAA,CAAK,gBAAA,CAAuC,YAAY,CAC1D,CAAA,CAEIE,CAAAA,CAAY,CAAA,CAEVC,CAAAA,CAAW,CAACC,CAAAA,CAA0BC,CAAAA,GAAiB,CAC3D,IAAIC,EAAI,CAAA,CAGFC,CAAAA,CAAW,WAAA,CAAY,IAAM,CACjCH,CAAAA,CAAG,WAAA,EAAeC,CAAAA,CAAKC,CAAC,CAAA,CACxBA,CAAAA,EAAAA,CAEIA,CAAAA,EAAKD,CAAAA,CAAK,MAAA,GACZ,aAAA,CAAcE,CAAQ,EACtB,UAAA,CAAW,IAAM,CACfL,CAAAA,EAAAA,CACIA,CAAAA,CAAYD,CAAAA,CAAM,MAAA,CACpBO,CAAAA,EAAc,CAEdC,CAAAA,GAEJ,CAAA,CAAG,GAAG,CAAA,EAEV,CAAA,CAjBc,EAiBN,EACV,CAAA,CAEMD,CAAAA,CAAgB,IAAM,CAC1B,IAAMJ,CAAAA,CAAKH,CAAAA,CAAMC,CAAS,CAAA,CACpBG,CAAAA,CAAOD,CAAAA,CAAG,OAAA,CAAQ,IAAA,CACnBC,CAAAA,EACLF,CAAAA,CAASC,CAAAA,CAAIC,CAAI,EACnB,CAAA,CAEMI,CAAAA,CAAa,IAAM,CACvB,UAAA,CAAW,IAAM,CACfT,CAAAA,CAAK,SAAA,CAAU,GAAA,CAAI,QAAQ,CAAA,CAC3B,UAAA,CAAW,IAAM,CACfA,EAAK,MAAA,EAAO,CACZ,OAAA,CAAQ,GAAA,CAAI,qBAAqB,CAAA,CACjCD,CAAAA,GACF,EAAG,GAAG,EACR,CAAA,CAAG,GAAG,EACR,CAAA,CAEAS,CAAAA,GACF,CAAC,CACH","file":"intro.js","sourcesContent":["/**\n * Plays the visor boot sequence with line-by-line typing.\n * Returns a promise that resolves when boot completes.\n */\nexport function showIntro(): Promise<void> {\n  return new Promise((resolve) => {\n    console.log(\"shwoing into // / / / // / // /\");\n    const boot = document.getElementById(\"visor-boot\");\n    if (!boot) {\n      console.log(\"showIntro:No boot\");\n      resolve();\n      return;\n    }\n\n    const lines = Array.from(\n      boot.querySelectorAll<HTMLParagraphElement>(\".boot-line\")\n    );\n\n    let lineIndex = 0;\n\n    const typeLine = (el: HTMLParagraphElement, text: string) => {\n      let i = 0;\n      const speed = 25;\n\n      const interval = setInterval(() => {\n        el.textContent += text[i];\n        i++;\n\n        if (i >= text.length) {\n          clearInterval(interval);\n          setTimeout(() => {\n            lineIndex++;\n            if (lineIndex < lines.length) {\n              startNextLine();\n            } else {\n              finishBoot();\n            }\n          }, 200);\n        }\n      }, speed);\n    };\n\n    const startNextLine = () => {\n      const el = lines[lineIndex];\n      const text = el.dataset.text;\n      if (!text) return;\n      typeLine(el, text);\n    };\n\n    const finishBoot = () => {\n      setTimeout(() => {\n        boot.classList.add(\"hidden\");\n        setTimeout(() => {\n          boot.remove();\n          console.log(\"[BOOT] Visor online\");\n          resolve();\n        }, 500);\n      }, 400);\n    };\n\n    startNextLine();\n  });\n}\n"]}