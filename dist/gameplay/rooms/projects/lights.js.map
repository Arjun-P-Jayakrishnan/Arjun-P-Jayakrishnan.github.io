{"version":3,"sources":["../../../../src/gameplay/rooms/projects/lights.ts"],"names":["createLighting","renderer","scene","dirLight","ambientLight","DirectionalLight","AmbientLight","PCFShadowMap"],"mappings":"+DAoBO,IAAMA,CAAiB,CAAA,CAAC,CAC7B,QAAA,CAAAC,EACA,KAAAC,CAAAA,CACF,CAA+B,GAAA,CAC7B,IAAIC,CAAAA,CACAC,CAmCJ,CAAA,OAAO,CACL,KAAA,CAlCY,IAAM,CAClBD,CAAW,CAAA,IAAIE,gBAAiB,CAAA,QAAA,CAAU,CAAC,CAC3CF,CAAAA,CAAAA,CAAS,UAAa,CAAA,IAAA,CACtBA,CAAS,CAAA,QAAA,CAAS,GAAI,CAAA,CAAA,CAAG,CAAG,CAAA,EAAG,CAC/BA,CAAAA,CAAAA,CAAS,MAAO,CAAA,QAAA,CAAS,GAAI,CAAA,CAAA,CAAG,EAAG,CAAC,CAAA,CAEpCA,CAAS,CAAA,MAAA,CAAO,OAAQ,CAAA,KAAA,CAAQ,IAChCA,CAAAA,CAAAA,CAAS,OAAO,OAAQ,CAAA,MAAA,CAAS,IACjCA,CAAAA,CAAAA,CAAS,MAAO,CAAA,MAAA,CAAO,IAAO,CAAA,EAAA,CAC9BA,EAAS,MAAO,CAAA,MAAA,CAAO,GAAM,CAAA,EAAA,CAC7BA,CAAS,CAAA,MAAA,CAAO,MAAO,CAAA,IAAA,CAAO,GAC9BA,CAAAA,CAAAA,CAAS,MAAO,CAAA,MAAA,CAAO,KAAQ,CAAA,EAAA,CAC/BA,CAAS,CAAA,MAAA,CAAO,OAAO,GAAM,CAAA,EAAA,CAC7BA,CAAS,CAAA,MAAA,CAAO,MAAO,CAAA,MAAA,CAAS,GAEhCC,CAAAA,CAAAA,CAAe,IAAIE,YAAa,CAAA,QAAQ,CAExCL,CAAAA,CAAAA,CAAS,SAAU,CAAA,OAAA,CAAU,IAC7BA,CAAAA,CAAAA,CAAS,UAAU,IAAOM,CAAAA,aAC5B,CAgBE,CAAA,QAAA,CAde,IAAM,CACjBJ,CAAUD,EAAAA,CAAAA,CAAM,GAAIC,CAAAA,CAAQ,CAC5BC,CAAAA,CAAAA,EAAcF,CAAM,CAAA,GAAA,CAAIE,CAAY,EAC1C,EAYE,UAViB,CAAA,IAAM,CACnBD,CAAAA,EAAUD,CAAM,CAAA,MAAA,CAAOC,CAAQ,CAAA,CAC/BC,GAAcF,CAAM,CAAA,MAAA,CAAOE,CAAY,EAC7C,CAQE,CAAA,OAAA,CANc,IAAM,EAOtB,CACF","file":"lights.js","sourcesContent":["import {\n  AmbientLight,\n  DirectionalLight,\n  PCFShadowMap,\n  Scene,\n  WebGLRenderer,\n} from \"three\";\n\nexport interface LightingProps {\n  scene: Scene;\n  renderer: WebGLRenderer;\n}\n\nexport interface Lighting {\n  mount: () => void;\n  activate: () => void;\n  deactivate: () => void;\n  unmount: () => void;\n}\n\nexport const createLighting = ({\n  renderer,\n  scene,\n}: LightingProps): Lighting => {\n  let dirLight: Nullable<DirectionalLight>;\n  let ambientLight: Nullable<AmbientLight>;\n\n  const mount = () => {\n    dirLight = new DirectionalLight(0xffffff, 5);\n    dirLight.castShadow = true;\n    dirLight.position.set(0, 1, 0.5);\n    dirLight.target.position.set(0, 0, 0);\n\n    dirLight.shadow.mapSize.width = 1024;\n    dirLight.shadow.mapSize.height = 1024;\n    dirLight.shadow.camera.near = 0.1;\n    dirLight.shadow.camera.far = 50;\n    dirLight.shadow.camera.left = -10;\n    dirLight.shadow.camera.right = 10;\n    dirLight.shadow.camera.top = 10;\n    dirLight.shadow.camera.bottom = -10;\n\n    ambientLight = new AmbientLight(0xffffff);\n\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = PCFShadowMap;\n  };\n\n  const activate = () => {\n    if (dirLight) scene.add(dirLight);\n    if (ambientLight) scene.add(ambientLight);\n  };\n\n  const deactivate = () => {\n    if (dirLight) scene.remove(dirLight);\n    if (ambientLight) scene.remove(ambientLight);\n  };\n\n  const unmount = () => {};\n\n  return {\n    mount: mount,\n    activate: activate,\n    deactivate: deactivate,\n    unmount: unmount,\n  };\n};\n"]}