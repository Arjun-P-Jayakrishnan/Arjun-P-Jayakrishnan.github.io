{"version":3,"sources":["../src/plugins/fsm/player/states.ts"],"names":["Idle","stateId","animationUnit","player","Walk","Run"],"mappings":"AAcA,IAAMA,CAAAA,CAAO,CAAC,CAAE,OAAA,CAAAC,EAAS,aAAA,CAAAC,CAAc,CAAA,IAiB9B,CACL,KAAA,CAjBkCC,CAAAA,EAAc,CAChD,OAAA,CAAQ,IAAI,YAAY,CAAA,CACxBD,CAAAA,CAAc,IAAA,CAAKD,CAAO,EAC5B,CAAA,CAeE,OAAA,CAboCE,GAAc,CAC7CA,CAAAA,CAAO,QAAA,EAAS,GAEjBA,CAAAA,CAAO,cAAA,EAAe,CAAGA,CAAAA,CAAO,YAAY,KAAK,CAAA,CAChDA,CAAAA,CAAO,WAAA,CAAY,MAAM,CAAA,EAChC,CAAA,CASE,IAAA,CAPiCA,GAAc,CAC/C,OAAA,CAAQ,GAAA,CAAI,WAAW,EACzB,CAMA,CAAA,CAAA,CAGIC,CAAAA,CAAO,CAAC,CAAE,aAAA,CAAAF,CAAAA,CAAe,OAAA,CAAAD,CAAQ,CAAA,IAkB9B,CACL,KAAA,CAlBkCE,GAAc,CAChD,OAAA,CAAQ,GAAA,CAAI,YAAY,EACxBD,CAAAA,CAAc,IAAA,CAAKD,CAAO,EAC5B,EAgBE,OAAA,CAdoCE,CAAAA,EAAc,CAC7CA,CAAAA,CAAO,QAAA,EAAS,CAEVA,CAAAA,CAAO,cAAA,IAChBA,CAAAA,CAAO,WAAA,CAAY,KAAK,CAAA,CAFxBA,CAAAA,CAAO,WAAA,CAAY,MAAM,EAI7B,EASE,IAAA,CAPiCA,CAAAA,EAAc,CAC/C,OAAA,CAAQ,GAAA,CAAI,WAAW,EACzB,CAMA,GAGIE,CAAAA,CAAM,CAAC,CAAE,aAAA,CAAAH,CAAAA,CAAe,OAAA,CAAAD,CAAQ,CAAA,IAkB7B,CACL,KAAA,CAlBkCE,CAAAA,EAAsB,CACxD,OAAA,CAAQ,GAAA,CAAI,WAAW,CAAA,CACvBD,CAAAA,CAAc,KAAKD,CAAO,EAC5B,CAAA,CAgBE,OAAA,CAdoCE,CAAAA,EAAsB,CACrDA,CAAAA,CAAO,QAAA,GAEAA,CAAAA,CAAO,cAAA,EAAe,EAChCA,CAAAA,CAAO,WAAA,CAAY,MAAM,CAAA,CAFzBA,CAAAA,CAAO,YAAY,MAAM,EAI7B,CAAA,CASE,IAAA,CAPiCA,GAAsB,CACvD,OAAA,CAAQ,GAAA,CAAI,UAAU,EACxB,CAMA,CAAA","file":"chunk-TVZ5BIMP.js","sourcesContent":["import { AnimationUnit } from \"engine/managers/animation/AnimationUnit\";\nimport { PlayerStateId } from \"types/fsm.types\";\nimport { GenericFSMState } from \"types/plugin.types\";\nimport { PlayerFSM } from \"./controller\";\n\ninterface PlayerStateProps {\n  /**Reference id for animation */\n  stateId: PlayerStateId;\n  /** animation unit resposnible for crossfade and such */\n  animationUnit: AnimationUnit<PlayerStateId>;\n}\n\ninterface PlayerFSMState extends GenericFSMState<PlayerFSM> {}\n\nconst Idle = ({ stateId, animationUnit }: PlayerStateProps): PlayerFSMState => {\n  const enter = <T extends PlayerFSM>(player: T) => {\n    console.log(\"enter idle\");\n    animationUnit.play(stateId);\n  };\n\n  const execute = <T extends PlayerFSM>(player: T) => {\n    if (!player.isMoving()) return;\n\n    if (player.isShiftPressed()) player.changeState(\"Run\");\n    else player.changeState(\"Walk\");\n  };\n\n  const exit = <T extends PlayerFSM>(player: T) => {\n    console.log(\"exit idle\");\n  };\n\n  return {\n    enter: enter,\n    execute: execute,\n    exit: exit,\n  };\n};\n\nconst Walk = ({ animationUnit, stateId }: PlayerStateProps): PlayerFSMState => {\n  const enter = <T extends PlayerFSM>(player: T) => {\n    console.log(\"enter walk\");\n    animationUnit.play(stateId);\n  };\n\n  const execute = <T extends PlayerFSM>(player: T) => {\n    if (!player.isMoving()) {\n      player.changeState(\"Idle\");\n    } else if (player.isShiftPressed()) {\n      player.changeState(\"Run\");\n    }\n  };\n\n  const exit = <T extends PlayerFSM>(player: T) => {\n    console.log(\"exit walk\");\n  };\n\n  return {\n    enter: enter,\n    execute: execute,\n    exit: exit,\n  };\n};\n\nconst Run = ({ animationUnit, stateId }: PlayerStateProps): PlayerFSMState => {\n  const enter = <T extends PlayerFSM>(player: PlayerFSM) => {\n    console.log(\"enter run\");\n    animationUnit.play(stateId);\n  };\n\n  const execute = <T extends PlayerFSM>(player: PlayerFSM) => {\n    if (!player.isMoving()) {\n      player.changeState(\"Idle\");\n    } else if (!player.isShiftPressed()) {\n      player.changeState(\"Walk\");\n    }\n  };\n\n  const exit = <T extends PlayerFSM>(player: PlayerFSM) => {\n    console.log(\"exit run\");\n  };\n\n  return {\n    enter: enter,\n    execute: execute,\n    exit: exit,\n  };\n};\n\nexport { Idle, Run, Walk };\n\nexport type { PlayerFSMState };\n"]}