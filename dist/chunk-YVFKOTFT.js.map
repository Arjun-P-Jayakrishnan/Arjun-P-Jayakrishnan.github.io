{"version":3,"sources":["../src/plugins/input/keyboard.ts"],"names":["createKeyboardController","pressedKeys","normalizedKey","key","_handleKeyUp","_handleKeyDown"],"mappings":"AAOO,IAAMA,EAA2B,IAAqB,CAC3D,IAAMC,CAAAA,CAAc,IAAI,GAAA,CAElBC,CAAAA,CAAiBC,CAAAA,EAAgBA,CAAAA,CAAI,aAAY,CAEjDC,CAAAA,CAAgB,GAAqB,CACzCH,CAAAA,CAAY,OAAOC,CAAAA,CAAc,CAAA,CAAE,GAAG,CAAC,EACzC,CAAA,CAEMG,CAAAA,CAAkB,CAAA,EAAqB,CAC3CJ,EAAY,GAAA,CAAIC,CAAAA,CAAc,CAAA,CAAE,GAAG,CAAC,EACtC,CAAA,CAqBA,OAAO,CACL,OAAA,CApBkB,IAAM,CACxB,MAAA,CAAO,gBAAA,CAAiB,OAAA,CAASE,CAAY,CAAA,CAC7C,MAAA,CAAO,gBAAA,CAAiB,SAAA,CAAWC,CAAc,EACnD,CAAA,CAkBE,SAAA,CAhBoB,IAAM,CAC1B,MAAA,CAAO,mBAAA,CAAoB,QAASD,CAAY,CAAA,CAChD,OAAO,mBAAA,CAAoB,SAAA,CAAWC,CAAc,CAAA,CACpDJ,EAAY,KAAA,GACd,EAaE,cAAA,CAXqB,IACd,MAAM,IAAA,CAAKA,CAAW,CAAA,CAW7B,YAAA,CARoBE,GACbF,CAAAA,CAAY,GAAA,CAAIC,EAAcC,CAAG,CAAC,CAQ3C,CACF","file":"chunk-YVFKOTFT.js","sourcesContent":["import { InputPlugin } from \"types/plugin.types\";\n\nexport interface KeyboardInput extends InputPlugin {\n  getPressedKeys: () => string[];\n  isKeyPressed: (key: string) => boolean;\n}\n\nexport const createKeyboardController = (): KeyboardInput => {\n  const pressedKeys = new Set<string>();\n\n  const normalizedKey = (key: string) => key.toLowerCase();\n\n  const _handleKeyUp = (e: KeyboardEvent) => {\n    pressedKeys.delete(normalizedKey(e.key));\n  };\n\n  const _handleKeyDown = (e: KeyboardEvent) => {\n    pressedKeys.add(normalizedKey(e.key));\n  };\n\n  const mountEvents = () => {\n    window.addEventListener(\"keyup\", _handleKeyUp);\n    window.addEventListener(\"keydown\", _handleKeyDown);\n  };\n\n  const unmountEvents = () => {\n    window.removeEventListener(\"keyup\", _handleKeyUp);\n    window.removeEventListener(\"keydown\", _handleKeyDown);\n    pressedKeys.clear();\n  };\n\n  const getPressedKeys = (): string[] => {\n    return Array.from(pressedKeys);\n  };\n\n  const isKeyPressed = (key: string) => {\n    return pressedKeys.has(normalizedKey(key));\n  };\n\n  return {\n    onMount: mountEvents,\n    onUnmount: unmountEvents,\n    getPressedKeys: getPressedKeys,\n    isKeyPressed: isKeyPressed,\n  };\n};\n"]}