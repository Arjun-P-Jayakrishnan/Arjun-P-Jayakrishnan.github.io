{"version":3,"sources":["../src/graphics/gameplay/controllers/plugins/keyboard.ts"],"names":["createKeyboardController","pressedKeys","normalizedKey","key","_handleKeyUp","_handleKeyDown"],"mappings":"AAQO,IAAMA,EAA2B,IAA0B,CAChE,IAAMC,CAAAA,CAAc,IAAI,GAElBC,CAAAA,CAAAA,CAAiBC,CAAgBA,EAAAA,CAAAA,CAAI,aAErCC,CAAAA,CAAAA,CAAgB,GAAqB,CACzCH,CAAAA,CAAY,OAAOC,CAAc,CAAA,CAAA,CAAE,GAAG,CAAC,EACzC,CAEMG,CAAAA,CAAAA,CAAkB,CAAqB,EAAA,CAC3CJ,EAAY,GAAIC,CAAAA,CAAAA,CAAc,CAAE,CAAA,GAAG,CAAC,EACtC,CAAA,CAqBA,OAAO,CACL,KAAA,CApBkB,IAAM,CACxB,MAAA,CAAO,gBAAiB,CAAA,OAAA,CAASE,CAAY,CAC7C,CAAA,MAAA,CAAO,gBAAiB,CAAA,SAAA,CAAWC,CAAc,EACnD,CAAA,CAkBE,OAhBoB,CAAA,IAAM,CAC1B,MAAO,CAAA,mBAAA,CAAoB,QAASD,CAAY,CAAA,CAChD,OAAO,mBAAoB,CAAA,SAAA,CAAWC,CAAc,CAAA,CACpDJ,EAAY,KAAM,GACpB,EAaE,cAXqB,CAAA,IACd,MAAM,IAAKA,CAAAA,CAAW,CAW7B,CAAA,YAAA,CARoBE,GACbF,CAAY,CAAA,GAAA,CAAIC,EAAcC,CAAG,CAAC,CAQ3C,CACF","file":"chunk-MGRBYLGI.js","sourcesContent":["import { ControllerPlugin } from \"../plugins\";\n\n\nexport interface KeyboardController extends ControllerPlugin {\n  getPressedKeys: () => string[];\n  isKeyPressed: (key: string) => boolean;\n}\n\nexport const createKeyboardController = (): KeyboardController => {\n  const pressedKeys = new Set<string>();\n\n  const normalizedKey = (key: string) => key.toLowerCase();\n\n  const _handleKeyUp = (e: KeyboardEvent) => {\n    pressedKeys.delete(normalizedKey(e.key));\n  };\n\n  const _handleKeyDown = (e: KeyboardEvent) => {\n    pressedKeys.add(normalizedKey(e.key));\n  };\n\n  const mountEvents = () => {\n    window.addEventListener(\"keyup\", _handleKeyUp);\n    window.addEventListener(\"keydown\", _handleKeyDown);\n  };\n\n  const unmountEvents = () => {\n    window.removeEventListener(\"keyup\", _handleKeyUp);\n    window.removeEventListener(\"keydown\", _handleKeyDown);\n    pressedKeys.clear();\n  };\n\n  const getPressedKeys = (): string[] => {\n    return Array.from(pressedKeys);\n  };\n\n  const isKeyPressed = (key: string) => {\n    return pressedKeys.has(normalizedKey(key));\n  };\n\n  return {\n    mount: mountEvents,\n    unmount: unmountEvents,\n    getPressedKeys: getPressedKeys,\n    isKeyPressed: isKeyPressed,\n  };\n};\n"]}