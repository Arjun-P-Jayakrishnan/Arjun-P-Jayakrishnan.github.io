import {a as a$3}from'./chunk-GRCMIHA5.js';import {a as a$1}from'./chunk-2462QA3U.js';import {a as a$2}from'./chunk-N2KZDBMS.js';import {a}from'./chunk-P6US56ME.js';import {Euler,Vector3}from'three';var U=({player:d,ground:u})=>{let a$4=a(),[i,l,M,m,o]=[a$4.get("Logger"),a$4.get("GlobalStorageManager"),a$4.get("EventBusManager"),a$4.get("InputManager"),a$4.get("ThreeJSContextManager")],e={camera:a$3({camera:o.get("camera")}),player:a$2({reference:d,InputManager:m,storage:l}),ground:a$1({camera:o.get("camera"),logger:i,references:u,storage:l})},r=null,t=null,n=false;return {mount:()=>{n||!e||(i.onMount({origin:"Navigation Room"}),r={player:{position:new Vector3(0,0,0),rotation:new Euler(0,0,0),rotationDelta:{yaw:0,pitch:0}}},t=l.getStorage("model").retrieve(u.storageId)??null,e.player.mount(),e.ground.mount(),e.camera.mount(),n=true);},update:f=>{!n||!e||!r||(o.get("orbit").update(),r.player=e.player.update(f),e.camera.update({playerPosition:r.player.position,rotationDelta:r.player.rotationDelta}));},unmount:()=>{!n||!e||(i.onUnmount({origin:"Navigation Room"}),e.player.unmount(),e.ground.unmount(),e=null,t=null);},setActive:()=>{!t||!e||(t.groups.visible=true,o.get("orbit").enabled=false,e.camera.activate(),e.ground.activate(),e.player.activate());},setDeactive:()=>{!t||!e||(t.groups.visible=false,e.camera.deactivate(),e.ground.deactivate(),e.player.deactivate());},isLoaded:false}};export{U as a};//# sourceMappingURL=chunk-7RWTZPGD.js.map
//# sourceMappingURL=chunk-7RWTZPGD.js.map