import {a}from'./chunk-5PDCNHTA.js';import {a as a$3}from'./chunk-IPOAFFZV.js';import {a as a$1}from'./chunk-G2RVGKXA.js';import {a as a$2}from'./chunk-MWU7DWMH.js';import {b}from'./chunk-ML4JF6YZ.js';import {Vector3,Euler,AnimationMixer}from'three';var L=i=>{let {eventBusManager:M,globalState:g,globalStorage:p}=b(),d=a(),l,n;({direction:new Vector3(0,0,-1),velocity:new Vector3(0,0,0)});({inputDirection:new Vector3(0,0,0)});let y={mouse:null,keyboard:null},b$1,C,f=()=>{try{let e=d.get("scene").getObjectByName(i.rootMeshId),o=p.getStorage("player").retrieve("player")?.animations??[];if(!e)throw new Error(`player doesn't exist for the id ${i.rootMeshId}`);b$1={playerRoot:e},y={mouse:a$1().getController("mouse"),keyboard:a$1().getController("keyboard")};let t=new AnimationMixer(e);C={mixer:t},l=a$2({mixer:t,actions:{Idle:t.clipAction(o[0]),Walk:t.clipAction(o[3]),Run:t.clipAction(o[1])},crossFadeDuration:.3}),n=a$3({animationController:l}),n.mount();}catch(e){console.error(`Player mesh cant be obtained :${e}`);}};return {mount:f,activate:()=>{},deactivate:()=>{},update:(e,o,t)=>(n.update(e),{position:new Vector3,rotation:new Euler}),unmount:()=>{}}};export{L as a};//# sourceMappingURL=chunk-UAXFVFOB.js.map
//# sourceMappingURL=chunk-UAXFVFOB.js.map