{"version":3,"sources":["../src/components/main.ts"],"names":["createWebComponentManager","LoadingModal","Navbar","ProjectGallery","ProjectCard","SceneInspector","AboutPage","context","getGlobalContext","loadingModal","err","navbar","gallery","sceneInspector","about","selector","element"],"mappings":"+RAwBaA,IAAAA,CAAAA,CAA4B,KA0FhC,CACL,eAAA,CAvFsB,IAAM,CAC5B,cAAA,CAAe,OAAO,eAAiBC,CAAAA,CAAY,EACnD,cAAe,CAAA,MAAA,CAAO,UAAWC,GAAM,CAAA,CACvC,eAAe,MAAO,CAAA,iBAAA,CAAmBC,GAAc,CACvD,CAAA,cAAA,CAAe,OAAO,cAAgBC,CAAAA,GAAW,EACjD,cAAe,CAAA,MAAA,CAAO,kBAAmBC,GAAc,CAAA,CACvD,eAAe,MAAO,CAAA,YAAA,CAAcC,GAAS,CAC7C,CAAA,OAAA,CAAQ,IAAI,2BAA2B,EACzC,EAgFE,gBA3EuB,CAAA,IAAM,CAI7B,IAAMC,CAAUC,CAAAA,CAAAA,GAEhB,GAAI,CACF,IAAMC,CACJ,CAAA,QAAA,CAAS,cAAc,eAAe,CAAA,CACxCA,EAAa,eAAkBF,CAAAA,CAAAA,CAAQ,gBACzC,CAASG,MAAAA,CAAAA,CAAK,CACZ,OAAQ,CAAA,KAAA,CAAM,kCAAkCA,CAAG,CAAA,CAAE,EACvD,CAEA,GAAI,CACF,IAAMC,CAAiB,CAAA,QAAA,CAAS,cAAc,SAAS,CAAA,CACvDA,EAAO,eAAkBJ,CAAAA,CAAAA,CAAQ,gBACnC,CAASG,MAAAA,CAAAA,CAAK,CACZ,OAAQ,CAAA,KAAA,CAAM,4BAA4BA,CAAG,CAAA,CAAE,EACjD,CAEA,GAAI,CACF,IAAME,CACJ,CAAA,QAAA,CAAS,cAAc,iBAAiB,CAAA,CAC1CA,EAAQ,eAAkBL,CAAAA,CAAAA,CAAQ,gBACpC,CAASG,MAAAA,CAAAA,CAAK,CACZ,OAAQ,CAAA,KAAA,CAAM,uCAAuCA,CAAG,CAAA,CAAE,EAC5D,CAEA,GAAI,CACF,IAAMG,CAAAA,CACJ,SAAS,aAAc,CAAA,iBAAiB,EAC1CA,CAAe,CAAA,eAAA,CAAkBN,EAAQ,gBAC3C,CAAA,MAASG,EAAK,CACZ,OAAA,CAAQ,MAAMA,CAAG,EACnB,CAEA,GAAI,CACF,IAAMI,CAAmB,CAAA,QAAA,CAAS,cAAc,YAAY,CAAA,CAC5DA,CAAM,CAAA,eAAA,CAAkBP,CAAQ,CAAA,gBAClC,OAASG,CAAK,CAAA,CACZ,QAAQ,KAAMA,CAAAA,CAAG,EACnB,CACF,CAAA,CAiCE,kBA5BwB,IAAM,CACZ,CAChB,eACA,CAAA,SAAA,CACA,kBACA,cACA,CAAA,iBAAA,CACA,YACF,CAEU,CAAA,OAAA,CAASK,CAAa,EAAA,CAC9B,IAAMC,CAAAA,CAAU,SAAS,aAAcD,CAAAA,CAAQ,EAC3CC,CAAS,EAAA,aAAA,CAEXA,EAAQ,aAAc,CAAA,WAAA,CAAYA,CAAO,CAEzC,CAAA,OAAA,CAAQ,KACN,CAAqBD,kBAAAA,EAAAA,CAAQ,sCAC/B,EAEJ,CAAC,EAED,OAAQ,CAAA,GAAA,CAAI,6BAA6B,EAC3C,CAMA,CAAA","file":"chunk-5FXMK3YZ.js","sourcesContent":["import { getGlobalContext } from \"@utils/globalContext\";\nimport { SceneInspector } from \"./threejs/scene_inspector\";\nimport { AboutPage } from \"./website/about/about\";\nimport { ProjectCard } from \"./website/gallery/card\";\n\nimport { ProjectGallery } from \"./website/gallery/gallery\";\nimport { LoadingModal } from \"./website/loading\";\nimport { Navbar } from \"./website/navbar/header\";\n\nexport interface WebComponentManager {\n  /**\n   * @description mounts the web components\n   */\n  mountComponents: () => void;\n  /**\n   * @description attach global context references\n   */\n  attachReferences: () => void;\n  /**\n   * @description unmounts web components\n   */\n  unmountComponents: () => void;\n}\n\nexport const createWebComponentManager = (): WebComponentManager => {\n  /**\n   * @description mount components\n   */\n  const mountComponents = () => {\n    customElements.define(\"loading-modal\", LoadingModal);\n    customElements.define(\"nav-bar\", Navbar);\n    customElements.define(\"project-gallery\", ProjectGallery);\n    customElements.define(\"project-card\", ProjectCard);\n    customElements.define(\"scene-inspector\", SceneInspector);\n    customElements.define(\"about-page\", AboutPage);\n    console.log(\"custom components mounted\");\n  };\n\n  /**\n   * attach references like global context for the web components\n   */\n  const attachReferences = () => {\n    /***\n     * get context attached to web components\n     */\n    const context = getGlobalContext();\n\n    try {\n      const loadingModal: LoadingModal =\n        document.querySelector(\"loading-modal\")!;\n      loadingModal.eventBusManager = context.eventBusManager;\n    } catch (err) {\n      console.error(`Missing loading modal element :${err}`);\n    }\n\n    try {\n      const navbar: Navbar = document.querySelector(\"nav-bar\")!;\n      navbar.eventBusManager = context.eventBusManager;\n    } catch (err) {\n      console.error(`Missing navbar element : ${err}`);\n    }\n\n    try {\n      const gallery: ProjectGallery =\n        document.querySelector(\"project-gallery\")!;\n      gallery.eventBusManager = context.eventBusManager;\n    } catch (err) {\n      console.error(`Missing project gallery component : ${err}`);\n    }\n\n    try {\n      const sceneInspector: SceneInspector =\n        document.querySelector(\"scene-inspector\")!;\n      sceneInspector.eventBusManager = context.eventBusManager;\n    } catch (err) {\n      console.error(err);\n    }\n\n    try {\n      const about: AboutPage = document.querySelector(\"about-page\")!;\n      about.eventBusManager = context.eventBusManager;\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  /**\n   * unmount web components\n   */\n  const unmountComponents = () => {\n    const selectors = [\n      \"loading-modal\",\n      \"nav-bar\",\n      \"project-gallery\",\n      \"project-card\",\n      \"scene-inspector\",\n      \"about-page\",\n    ];\n\n    selectors.forEach((selector) => {\n      const element = document.querySelector(selector);\n      if (element?.parentElement) {\n        //call disconnected  callback for the removal of event listeners\n        element.parentElement.removeChild(element);\n      } else {\n        console.warn(\n          `Could not unmount ${selector} either already removed or not found`\n        );\n      }\n    });\n\n    console.log(\"custom components unmounted\");\n  };\n\n  return {\n    mountComponents: mountComponents,\n    attachReferences: attachReferences,\n    unmountComponents: unmountComponents,\n  };\n};\n"]}