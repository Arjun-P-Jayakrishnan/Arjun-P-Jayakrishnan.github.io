{"version":3,"sources":["../src/graphics/mechanics/controllers/controller.ts"],"names":["controllers","getControllers","props","createMouseController","createKeyboardController","key"],"mappings":"+EAgBIA,IAAAA,CAAAA,CAAkC,KAEzBC,CAAiB,CAAA,KAqCrB,CACL,KAlCaC,CAAAA,CAAAA,EAA2B,CACnCF,CAAAA,GACHA,CAAc,CAAA,CACZ,MAAOG,GAAsBD,CAAAA,CAAAA,CAAM,KAAK,CACxC,CAAA,QAAA,CAAUE,GACZ,CAAA,CAEAJ,CAAY,CAAA,KAAA,CAAM,KAAM,EAAA,CACxBA,EAAY,QAAS,CAAA,KAAA,IAEzB,CAyBE,CAAA,aAAA,CAPAK,GAEOL,CAAcA,CAAAA,CAAAA,CAAYK,CAAG,CAAA,CAAI,IAMxC,CAAA,OAAA,CArBc,IAAM,CACfL,CAAAA,GAELA,EAAY,KAAM,CAAA,OAAA,GAClBA,CAAY,CAAA,QAAA,CAAS,OAAQ,EAAA,EAC/B,CAiBA,CAAA","file":"chunk-G2RVGKXA.js","sourcesContent":["import { Controllers } from \"./plugins\";\nimport { createKeyboardController } from \"./plugins/keyboard\";\nimport { createMouseController } from \"./plugins/mouse\";\n\nexport interface ControllerProps {\n  mouse: {\n    sensitivity: number;\n  };\n}\n\nexport interface ControllerManger {\n  mount: (props: ControllerProps) => void;\n  unmount: () => void;\n  getController: <K extends keyof Controllers>(key: K) => Controllers[K] | null;\n}\n\nlet controllers: Controllers | null = null;\n\nexport const getControllers = (): ControllerManger => {\n  /**\n   *\n   */\n  const mount = (props: ControllerProps) => {\n    if (!controllers) {\n      controllers = {\n        mouse: createMouseController(props.mouse),\n        keyboard: createKeyboardController(),\n      };\n\n      controllers.mouse.mount();\n      controllers.keyboard.mount();\n    }\n  };\n\n  /**\n   *\n   */\n  const unmount = () => {\n    if (!controllers) return;\n\n    controllers.mouse.unmount();\n    controllers.keyboard.unmount();\n  };\n\n  /**\n   *\n   * @param key which plugin are you looking for\n   * @returns the controller if it exists\n   */\n  const getController = <K extends keyof Controllers>(\n    key: K\n  ): Controllers[K] | null => {\n    return controllers ? controllers[key] : null;\n  };\n\n  return {\n    mount: mount,\n    getController: getController,\n    unmount: unmount,\n  };\n};\n"]}