{"version":3,"sources":["../src/2d/modules/carousels.ts"],"names":["initCarousel","config","track","viewport","prev","next","items","highlights","activeIndex","update","item","viewportWidth","itemWidth","offset","maxOffset","i","el","goPrev","goNext","initTimelineCarousel","initTechCarousel"],"mappings":"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","file":"chunk-NAYIZZ3R.js","sourcesContent":["/**\n * Carousel configuration\n */\nexport interface CarouselConfig {\n  trackSelector: string;\n  viewportSelector: string;\n  prevSelector: string;\n  nextSelector: string;\n  itemSelector: string;\n  step?: number; // Optional step override\n  highlightSelector?: string; // Optional selector for highlight (dots or circles)\n}\n\n/**\n * Initialize a generic horizontal carousel\n * @param config Carousel configuration\n */\nexport const initCarousel = (\n  config: CarouselConfig\n): (() => void) | undefined => {\n  const track = document.querySelector<HTMLDivElement>(config.trackSelector);\n  const viewport = document.querySelector<HTMLDivElement>(\n    config.viewportSelector\n  );\n  const prev = document.querySelector<HTMLButtonElement>(config.prevSelector);\n  const next = document.querySelector<HTMLButtonElement>(config.nextSelector);\n  const items = track\n    ? Array.from(track.querySelectorAll<HTMLDivElement>(config.itemSelector))\n    : [];\n  const highlights =\n    config.highlightSelector && track\n      ? Array.from(\n          track.querySelectorAll<HTMLDivElement>(config.highlightSelector)\n        )\n      : [];\n\n  if (!track || !viewport || !prev || !next || items.length === 0) {\n    console.warn(\"[Carousel] Missing elements\", config);\n    return;\n  }\n\n  const STEP = config.step ?? items[0].offsetWidth + 32; // default to width + gap\n  let activeIndex = 0;\n\n  const update = () => {\n    prev.disabled = activeIndex === 0;\n    next.disabled = activeIndex === items.length - 1;\n\n    const item = items[activeIndex];\n    if (!item) return;\n\n    // Widths\n    const viewportWidth = viewport.offsetWidth;\n    const itemWidth = item.offsetWidth;\n\n    // Item position relative to the track\n    const itemLeft = item.offsetLeft;\n\n    // Center the active item\n    let offset = itemLeft - viewportWidth / 2 + itemWidth / 2;\n\n    // Clamp so we never scroll beyond the track\n    const maxOffset = track.scrollWidth - viewportWidth;\n    offset = Math.max(0, Math.min(offset, maxOffset));\n\n    // Apply transform\n    track.style.transform = `translateX(${-offset}px)`;\n\n    // Toggle active class for items\n    items.forEach((item, i) =>\n      item.classList.toggle(\"active\", i === activeIndex)\n    );\n\n    // Toggle highlight (if exists)\n    highlights.forEach((el, i) =>\n      el.classList.toggle(\"active\", i === activeIndex)\n    );\n  };\n\n  const goPrev = () => {\n    activeIndex = Math.max(activeIndex - 1, 0);\n    update();\n  };\n\n  const goNext = () => {\n    activeIndex = Math.min(activeIndex + 1, items.length - 1);\n    update();\n  };\n\n  prev.addEventListener(\"click\", goPrev);\n  next.addEventListener(\"click\", goNext);\n\n  // Optional: click on highlight elements to jump\n  highlights.forEach((el, i) =>\n    el.addEventListener(\"click\", () => {\n      activeIndex = i;\n      update();\n    })\n  );\n\n  window.addEventListener(\"resize\", update);\n\n  // Initial update\n  update();\n\n  // Return a cleanup function to remove listeners\n  return () => {\n    prev.removeEventListener(\"click\", goPrev);\n    next.removeEventListener(\"click\", goNext);\n    highlights.forEach((el, i) =>\n      el.removeEventListener(\"click\", () => {\n        activeIndex = i;\n        update();\n      })\n    );\n    window.removeEventListener(\"resize\", update);\n  };\n};\n\n/**\n * Initialize timeline carousel\n */\nexport const initTimelineCarousel = () => {\n  return initCarousel({\n    trackSelector: \".timeline-track\",\n    viewportSelector: \".timeline-viewport\",\n    prevSelector: \".timeline-nav.prev\",\n    nextSelector: \".timeline-nav.next\",\n    itemSelector: \".timeline-item\",\n    step: 120,\n    highlightSelector: \".timeline-dot\", // optional: highlights active card\n  });\n};\n\n/**\n * Initialize tech carousel\n */\nexport const initTechCarousel = () => {\n  return initCarousel({\n    trackSelector: \".tech-track\",\n    viewportSelector: \".tech-viewport\",\n    prevSelector: \".tech-nav.prev\",\n    nextSelector: \".tech-nav.next\",\n    itemSelector: \".tech-category-card\",\n  });\n};\n"]}