{"version":3,"sources":["../src/gameplay/rooms/projects/lights.ts"],"names":["createLighting","renderer","scene","dirLight","ambientLight","DirectionalLight","AmbientLight","PCFShadowMap"],"mappings":"+DAoBO,IAAMA,CAAAA,CAAiB,CAAC,CAC7B,QAAA,CAAAC,EACA,KAAA,CAAAC,CACF,CAAA,GAA+B,CAC7B,IAAIC,CAAAA,CACAC,CAAAA,CAmCJ,OAAO,CACL,KAAA,CAlCY,IAAM,CAClBD,CAAAA,CAAW,IAAIE,gBAAAA,CAAiB,QAAA,CAAU,CAAC,CAAA,CAC3CF,CAAAA,CAAS,UAAA,CAAa,IAAA,CACtBA,CAAAA,CAAS,QAAA,CAAS,GAAA,CAAI,CAAA,CAAG,CAAA,CAAG,EAAG,CAAA,CAC/BA,CAAAA,CAAS,MAAA,CAAO,QAAA,CAAS,GAAA,CAAI,CAAA,CAAG,EAAG,CAAC,CAAA,CAEpCA,CAAAA,CAAS,MAAA,CAAO,OAAA,CAAQ,KAAA,CAAQ,IAAA,CAChCA,CAAAA,CAAS,OAAO,OAAA,CAAQ,MAAA,CAAS,IAAA,CACjCA,CAAAA,CAAS,MAAA,CAAO,MAAA,CAAO,IAAA,CAAO,EAAA,CAC9BA,EAAS,MAAA,CAAO,MAAA,CAAO,GAAA,CAAM,EAAA,CAC7BA,CAAAA,CAAS,MAAA,CAAO,MAAA,CAAO,IAAA,CAAO,GAAA,CAC9BA,CAAAA,CAAS,MAAA,CAAO,MAAA,CAAO,KAAA,CAAQ,EAAA,CAC/BA,CAAAA,CAAS,MAAA,CAAO,OAAO,GAAA,CAAM,EAAA,CAC7BA,CAAAA,CAAS,MAAA,CAAO,MAAA,CAAO,MAAA,CAAS,GAAA,CAEhCC,CAAAA,CAAe,IAAIE,YAAAA,CAAa,QAAQ,CAAA,CAExCL,CAAAA,CAAS,SAAA,CAAU,OAAA,CAAU,IAAA,CAC7BA,CAAAA,CAAS,UAAU,IAAA,CAAOM,aAC5B,CAAA,CAgBE,QAAA,CAde,IAAM,CACjBJ,CAAAA,EAAUD,CAAAA,CAAM,GAAA,CAAIC,CAAQ,CAAA,CAC5BC,CAAAA,EAAcF,CAAAA,CAAM,GAAA,CAAIE,CAAY,EAC1C,EAYE,UAAA,CAViB,IAAM,CACnBD,CAAAA,EAAUD,CAAAA,CAAM,MAAA,CAAOC,CAAQ,CAAA,CAC/BC,GAAcF,CAAAA,CAAM,MAAA,CAAOE,CAAY,EAC7C,CAAA,CAQE,OAAA,CANc,IAAM,CAAC,CAOvB,CACF","file":"chunk-Y5F3OWYH.js","sourcesContent":["import {\n  AmbientLight,\n  DirectionalLight,\n  PCFShadowMap,\n  Scene,\n  WebGLRenderer,\n} from \"three\";\n\nexport interface LightingProps {\n  scene: Scene;\n  renderer: WebGLRenderer;\n}\n\nexport interface Lighting {\n  mount: () => void;\n  activate: () => void;\n  deactivate: () => void;\n  unmount: () => void;\n}\n\nexport const createLighting = ({\n  renderer,\n  scene,\n}: LightingProps): Lighting => {\n  let dirLight: Nullable<DirectionalLight>;\n  let ambientLight: Nullable<AmbientLight>;\n\n  const mount = () => {\n    dirLight = new DirectionalLight(0xffffff, 5);\n    dirLight.castShadow = true;\n    dirLight.position.set(0, 1, 0.5);\n    dirLight.target.position.set(0, 0, 0);\n\n    dirLight.shadow.mapSize.width = 1024;\n    dirLight.shadow.mapSize.height = 1024;\n    dirLight.shadow.camera.near = 0.1;\n    dirLight.shadow.camera.far = 50;\n    dirLight.shadow.camera.left = -10;\n    dirLight.shadow.camera.right = 10;\n    dirLight.shadow.camera.top = 10;\n    dirLight.shadow.camera.bottom = -10;\n\n    ambientLight = new AmbientLight(0xffffff);\n\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = PCFShadowMap;\n  };\n\n  const activate = () => {\n    if (dirLight) scene.add(dirLight);\n    if (ambientLight) scene.add(ambientLight);\n  };\n\n  const deactivate = () => {\n    if (dirLight) scene.remove(dirLight);\n    if (ambientLight) scene.remove(ambientLight);\n  };\n\n  const unmount = () => {};\n\n  return {\n    mount: mount,\n    activate: activate,\n    deactivate: deactivate,\n    unmount: unmount,\n  };\n};\n"]}