{"version":3,"sources":["../src/components/website/gallery.ts"],"sourcesContent":["import { EventBus } from \"@utils/event_management/eventBus\";\nimport { EventBusManager } from \"@utils/event_management/eventBusFactory\";\nimport { DisplayEvents } from \"@utils/event_management/eventType\";\nimport { CardMarshall } from \"./card\";\n\nconst template = document.createElement(\"template\");\ntemplate.innerHTML = `\n    <link rel=\"stylesheet\" href=\"/style/gallery.css\">\n    <div class=\"gallery hidden\" id=\"gallery\">\n    </div>\n`;\n\nexport class ProjectGallery extends HTMLElement {\n  root: ShadowRoot;\n  gallery: HTMLElement | null;\n\n  displayEventBus: EventBus<DisplayEvents> | undefined;\n\n  constructor() {\n    super();\n    this.root = this.attachShadow({ mode: \"open\" });\n    const clone = template.content.cloneNode(true);\n    this.root.appendChild(clone);\n\n    this.gallery = this.root.getElementById(\"gallery\");\n  }\n\n  set eventBusManager(eventBusManager: EventBusManager) {\n    this.displayEventBus = eventBusManager.displayBus;\n  }\n\n  showComponent(_: any) {\n    console.log(\"gallery shown \");\n    this.gallery?.classList.remove(\"hidden\");\n  }\n\n  hideComponent(_: any) {\n    this.gallery?.classList.add(\"hidden\");\n  }\n\n  async connectedCallback() {\n    const res = await fetch(\"/public/data/projects.json\");\n    const projects = await res.json();\n\n    (projects[\"projects\"] as Array<CardMarshall>).forEach((cardProps) => {\n      const projectElement = document.createElement(\"project-card\");\n      projectElement.setAttribute(\"title\", cardProps.title);\n      projectElement.setAttribute(\"image\", cardProps.imageUrl);\n      projectElement.setAttribute(\"description\", cardProps.description);\n      projectElement.setAttribute(\"tags\", cardProps.tags ?? \"\");\n      projectElement.setAttribute(\"github_link\", cardProps.linkUrl);\n\n      this.gallery?.appendChild(projectElement);\n    });\n\n    this.displayEventBus?.on(\"project:show\", (data) => {\n      this.showComponent(data);\n    });\n    this.displayEventBus?.on(\"project:hide\", (data) => {\n      this.hideComponent(data);\n    });\n  }\n\n  disconnectedCallback() {\n    this.displayEventBus?.off(\"project:show\", (data) => {\n      this.showComponent(data);\n    });\n    this.displayEventBus?.off(\"project:hide\", (data) => {\n      this.hideComponent(data);\n    });\n  }\n}\n"],"mappings":"AAKA,IAAMA,EAAW,SAAS,cAAc,UAAU,EAClDA,EAAS,UAAY;AAAA;AAAA;AAAA;AAAA,EAMd,IAAMC,EAAN,cAA6B,WAAY,CAM9C,aAAc,CACZ,MAAM,EACN,KAAK,KAAO,KAAK,aAAa,CAAE,KAAM,MAAO,CAAC,EAC9C,IAAMC,EAAQF,EAAS,QAAQ,UAAU,EAAI,EAC7C,KAAK,KAAK,YAAYE,CAAK,EAE3B,KAAK,QAAU,KAAK,KAAK,eAAe,SAAS,CACnD,CAEA,IAAI,gBAAgBC,EAAkC,CACpD,KAAK,gBAAkBA,EAAgB,UACzC,CAEA,cAAcC,EAAQ,CACpB,QAAQ,IAAI,gBAAgB,EAC5B,KAAK,SAAS,UAAU,OAAO,QAAQ,CACzC,CAEA,cAAcA,EAAQ,CACpB,KAAK,SAAS,UAAU,IAAI,QAAQ,CACtC,CAEA,MAAM,mBAAoB,EAEP,MADL,MAAM,MAAM,4BAA4B,GACzB,KAAK,GAEtB,SAAoC,QAASC,GAAc,CACnE,IAAMC,EAAiB,SAAS,cAAc,cAAc,EAC5DA,EAAe,aAAa,QAASD,EAAU,KAAK,EACpDC,EAAe,aAAa,QAASD,EAAU,QAAQ,EACvDC,EAAe,aAAa,cAAeD,EAAU,WAAW,EAChEC,EAAe,aAAa,OAAQD,EAAU,MAAQ,EAAE,EACxDC,EAAe,aAAa,cAAeD,EAAU,OAAO,EAE5D,KAAK,SAAS,YAAYC,CAAc,CAC1C,CAAC,EAED,KAAK,iBAAiB,GAAG,eAAiBC,GAAS,CACjD,KAAK,cAAcA,CAAI,CACzB,CAAC,EACD,KAAK,iBAAiB,GAAG,eAAiBA,GAAS,CACjD,KAAK,cAAcA,CAAI,CACzB,CAAC,CACH,CAEA,sBAAuB,CACrB,KAAK,iBAAiB,IAAI,eAAiBA,GAAS,CAClD,KAAK,cAAcA,CAAI,CACzB,CAAC,EACD,KAAK,iBAAiB,IAAI,eAAiBA,GAAS,CAClD,KAAK,cAAcA,CAAI,CACzB,CAAC,CACH,CACF","names":["template","ProjectGallery","clone","eventBusManager","_","cardProps","projectElement","data"]}