{"version":3,"sources":["../src/graphics/gameplay/controllers/controller.ts"],"sourcesContent":["import { Controllers } from \"./plugins\";\nimport { createKeyboardController } from \"./plugins/keyboard\";\nimport { createMouseController } from \"./plugins/mouse\";\n\nexport interface ControllerProps {\n  mouse: {\n    sensitivity: number;\n  };\n}\n\nexport interface ControllerManger {\n  mount: (props: ControllerProps) => void;\n  unmount: () => void;\n  getController: <K extends keyof Controllers>(key: K) => Controllers[K] | null;\n}\n\nlet controllers: Controllers | null = null;\n\nexport const getControllers = (): ControllerManger => {\n  /**\n   *\n   */\n  const mount = (props: ControllerProps) => {\n    if (!controllers) {\n      controllers = {\n        mouse: createMouseController(props.mouse),\n        keyboard: createKeyboardController(),\n      };\n\n      controllers.mouse.mount();\n      controllers.keyboard.mount();\n    }\n  };\n\n  /**\n   *\n   */\n  const unmount = () => {\n    if (!controllers) return;\n\n    controllers.mouse.unmount();\n    controllers.keyboard.unmount();\n  };\n\n  /**\n   *\n   * @param key which plugin are you looking for\n   * @returns the controller if it exists\n   */\n  const getController = <K extends keyof Controllers>(\n    key: K\n  ): Controllers[K] | null => {\n    return controllers ? controllers[key] : null;\n  };\n\n  return {\n    mount: mount,\n    getController: getController,\n    unmount: unmount,\n  };\n};\n"],"mappings":"gFAgBA,IAAIA,EAAkC,KAEzBC,EAAiB,KAqCrB,CACL,MAlCaC,GAA2B,CACnCF,IACHA,EAAc,CACZ,MAAOG,EAAsBD,EAAM,KAAK,EACxC,SAAUE,EAAyB,CACrC,EAEAJ,EAAY,MAAM,MAAM,EACxBA,EAAY,SAAS,MAAM,EAE/B,EAyBE,cAPAK,GAEOL,EAAcA,EAAYK,CAAG,EAAI,KAMxC,QArBc,IAAM,CACfL,IAELA,EAAY,MAAM,QAAQ,EAC1BA,EAAY,SAAS,QAAQ,EAC/B,CAiBA","names":["controllers","getControllers","props","createMouseController","createKeyboardController","key"]}