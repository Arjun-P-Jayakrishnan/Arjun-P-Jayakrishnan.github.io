import {a as a$4}from'./chunk-NRLCKWSB.js';import {a as a$2}from'./chunk-IVMZFPRE.js';import {a as a$1}from'./chunk-L3CGCQU2.js';import {a as a$3}from'./chunk-ESNUHDK6.js';import {a as a$6}from'./chunk-6PANP7XF.js';import {a as a$7}from'./chunk-MTIO36TL.js';import {a as a$5}from'./chunk-DKSIR66J.js';import {a}from'./chunk-P6US56ME.js';var y=async o=>await(await fetch(o)).json(),M=async()=>{let o=document.querySelector("about-page");try{let t=await y("/public/data/about.json");o.updateData={isError:!1,records:t};}catch(t){o.updateData={isError:true,message:`Error getting data ${t}`},console.error(`Error getting data ${t}`);}},D=async()=>{let o=document.querySelector("project-gallery");try{let a=await(await fetch("/public/data/projects.json")).json();o.updateData={isError:!1,list:a.projects};}catch(t){o.updateData={isError:true,message:`Error getting data ${t}`},console.error(`Error getting data ${t}`);}},$=()=>{let o={navbarDefined:false,loadingModalDefined:false,sceneInspectorDefined:false,projectGalleryDefined:false,aboutPageDefined:false},t=a(),[a$8,n,r]=[t.get("LifecycleScheduler"),t.get("Logger"),t.get("EventBusManager")];return {onInit:()=>{o.navbarDefined||(customElements.define("nav-bar",a$1),o.navbarDefined=true),o.loadingModalDefined||(customElements.define("loading-modal",a$2),o.loadingModalDefined=true),o.sceneInspectorDefined||(customElements.define("scene-inspector",a$3),o.sceneInspectorDefined=true),r.displayBus.once("projects:show",()=>{o.projectGalleryDefined||(n.onMount({origin:"Projects-Page"}),r.loadingBus.emit({type:"load:start",loaded:0,total:0,url:""}),customElements.define("project-gallery",a$4),customElements.define("project-card",a$5),a$8.schedule(a$6(()=>{try{let e=document.querySelector("project-gallery");e.eventBusManager=r;}catch(e){console.error(e);}})),a$8.schedule(a$6(async()=>{try{console.log("loading data"),await D(),r.loadingBus.emit({type:"load:complete"});}catch(e){console.log(`Error while loading projects data ${e}`);}})),o.projectGalleryDefined=true);}),r.displayBus.once("about:show",()=>{o.aboutPageDefined||(n.onMount({origin:"About-Page"}),r.loadingBus.emit({type:"load:start",loaded:0,total:0,url:""}),customElements.define("about-page",a$7),a$8.schedule(a$6(async()=>{await M(),r.loadingBus.emit({type:"load:complete"});})),a$8.schedule(a$6(()=>{try{let e=document.querySelector("about-page");e.eventBusManager=r;}catch(e){console.error(e);}})),o.aboutPageDefined=true);});},onLoad:()=>{n.onLoad({origin:"DOMManager"});try{let e=document.querySelector("loading-modal");e.eventBusManager=r;}catch(e){console.error(`Missing loading modal element :${e}`);}try{let e=document.querySelector("nav-bar");e.eventBusManager=r;}catch(e){console.error(`Missing navbar element : ${e}`);}try{let e=document.querySelector("scene-inspector");e.eventBusManager=r;}catch(e){console.error(e);}},onMount:()=>{n.onMount({origin:"DOMManager"});},onUpdate:()=>{n.onUpdate(0,{origin:"DOMManager"});},onUnmount:()=>{["loading-modal","nav-bar","scene-inspector"].forEach(l=>{let s=document.querySelector(l);s?.parentElement?s.parentElement.removeChild(s):console.warn(`Could not unmount ${l} either already removed or not found`);}),n.onUnmount({origin:"DOMManger"});},onDestroy:()=>{n.onDestroy({origin:"DOMManager"});}}};export{$ as a};//# sourceMappingURL=chunk-Y3LPKTXW.js.map
//# sourceMappingURL=chunk-Y3LPKTXW.js.map