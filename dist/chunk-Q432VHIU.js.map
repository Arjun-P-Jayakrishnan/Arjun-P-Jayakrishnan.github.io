{"version":3,"sources":["../src/engine/managers/storage/genericStorageUnit.ts"],"names":["selectBackend","key","createInMemoryBackend","createStorageUnit","backend","id","payload"],"mappings":"oCAIMA,IAAAA,CAAAA,CAAoBC,CACRC,EAAAA,CAAAA,EAOLC,CAAAA,CAAAA,CAAoB,IAAgC,CAE/D,IAAMC,CAAAA,CAAUJ,CAAiB,CAAU,CA8B3C,CAAA,OAAO,CACL,KAAA,CA7BY,CAAoBK,CAAAA,CAAOC,CAAwB,GAAA,CAC/DF,CAAQ,CAAA,GAAA,CAAIC,CAAIC,CAAAA,CAAO,EACzB,CAAA,CA4BE,QA1BmCD,CAAAA,CAAAA,EAC5BD,CAAQ,CAAA,GAAA,CAAIC,CAAE,CA0BrB,CAAA,KAAA,CAXY,IAAY,CACxBD,CAAQ,CAAA,KAAA,GACV,CAAA,CAUE,MAxBoCC,CAAAA,CAAAA,EAAgB,CACpDD,CAAAA,CAAQ,MAAOC,CAAAA,CAAE,EACnB,CAAA,CAuBE,GArB8BA,CAAAA,CAAAA,EACzB,CAAAD,CAAAA,CAAQ,GAAIC,CAAAA,CAAE,CAqBnB,CAAA,IAAA,CAVW,IACJD,CAAAA,CAAQ,IAAK,CAAA,MAUtB,CACF","file":"chunk-Q432VHIU.js","sourcesContent":["import { StorageBackend } from \"types/plugin.types\";\nimport { createInMemoryBackend } from \"../../../plugins/backend/InMemoryBackend\";\nimport { BackendTypes, GenericStorageUnit } from \"./storageTypes\";\n\nconst selectBackend = <T>(key: BackendTypes): StorageBackend<T> => {\n  const backend = createInMemoryBackend<T>();\n\n  return backend;\n};\n\n//T is the storage structure of object\n//player {animations:Type,model:type etc}\nexport const createStorageUnit = <T>(): GenericStorageUnit<T> => {\n  /** string mapped  */\n  const backend = selectBackend<T>(\"InMemory\");\n\n  const store = <K extends keyof T>(id: K, payload: T[K]): void => {\n    backend.set(id, payload);\n  };\n\n  const retrieve = <K extends keyof T>(id: K): T[K] | undefined => {\n    return backend.get(id) as T[K] | undefined;\n  };\n\n  const deleteKey = <K extends keyof T>(id: K): void => {\n    backend.delete(id);\n  };\n\n  const has = <K extends keyof T>(id: K): boolean => {\n    if (!backend.get(id)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const clear = (): void => {\n    backend.clear();\n  };\n\n  const size = (): number => {\n    return backend.keys.length;\n  };\n\n  return {\n    store: store,\n    retrieve: retrieve,\n    clear: clear,\n    delete: deleteKey,\n    has: has,\n    size: size,\n  };\n};\n"]}