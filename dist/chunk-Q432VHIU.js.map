{"version":3,"sources":["../src/engine/managers/storage/genericStorageUnit.ts"],"names":["selectBackend","key","createInMemoryBackend","createStorageUnit","backend","id","payload"],"mappings":"oCAIA,IAAMA,CAAAA,CAAoBC,CAAAA,EACRC,CAAAA,EAAyB,CAO9BC,CAAAA,CAAoB,IAAgC,CAE/D,IAAMC,CAAAA,CAAUJ,CAAAA,CAA2B,CAAA,CA8B3C,OAAO,CACL,KAAA,CA7BY,CAAoBK,CAAAA,CAAOC,CAAAA,GAAwB,CAC/DF,CAAAA,CAAQ,GAAA,CAAIC,CAAAA,CAAIC,CAAO,EACzB,CAAA,CA4BE,QAAA,CA1BmCD,CAAAA,EAC5BD,CAAAA,CAAQ,GAAA,CAAIC,CAAE,CAAA,CA0BrB,KAAA,CAXY,IAAY,CACxBD,CAAAA,CAAQ,KAAA,GACV,CAAA,CAUE,MAAA,CAxBoCC,CAAAA,EAAgB,CACpDD,CAAAA,CAAQ,MAAA,CAAOC,CAAE,EACnB,CAAA,CAuBE,GAAA,CArB8BA,CAAAA,EACzB,CAAAD,CAAAA,CAAQ,GAAA,CAAIC,CAAE,CAAA,CAqBnB,IAAA,CAVW,IACJD,CAAAA,CAAQ,IAAA,CAAK,MAUtB,CACF","file":"chunk-Q432VHIU.js","sourcesContent":["import { StorageBackend } from \"types/plugin.types\";\nimport { createInMemoryBackend } from \"../../../plugins/backend/InMemoryBackend\";\nimport { BackendTypes, GenericStorageUnit } from \"./storageTypes\";\n\nconst selectBackend = <T>(key: BackendTypes): StorageBackend<T> => {\n  const backend = createInMemoryBackend<T>();\n\n  return backend;\n};\n\n//T is the storage structure of object\n//player {animations:Type,model:type etc}\nexport const createStorageUnit = <T>(): GenericStorageUnit<T> => {\n  /** string mapped  */\n  const backend = selectBackend<T>(\"InMemory\");\n\n  const store = <K extends keyof T>(id: K, payload: T[K]): void => {\n    backend.set(id, payload);\n  };\n\n  const retrieve = <K extends keyof T>(id: K): T[K] | undefined => {\n    return backend.get(id) as T[K] | undefined;\n  };\n\n  const deleteKey = <K extends keyof T>(id: K): void => {\n    backend.delete(id);\n  };\n\n  const has = <K extends keyof T>(id: K): boolean => {\n    if (!backend.get(id)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const clear = (): void => {\n    backend.clear();\n  };\n\n  const size = (): number => {\n    return backend.keys.length;\n  };\n\n  return {\n    store: store,\n    retrieve: retrieve,\n    clear: clear,\n    delete: deleteKey,\n    has: has,\n    size: size,\n  };\n};\n"]}