import {a as a$3}from'./chunk-RQ6XBFXE.js';import {a as a$1}from'./chunk-2462QA3U.js';import {a as a$2}from'./chunk-WZU6CF5S.js';import {a}from'./chunk-P6US56ME.js';import {Euler,Vector3}from'three';var U=({player:d,ground:u})=>{let a$4=a(),[r,l,M,g,n]=[a$4.get("Logger"),a$4.get("GlobalStorageManager"),a$4.get("EventBusManager"),a$4.get("InputManager"),a$4.get("ThreeJSContextManager")],e={camera:a$3({camera:n.get("camera")}),player:a$2({reference:d,InputManager:g,storage:l}),ground:a$1({camera:n.get("camera"),logger:r,references:u,storage:l})},o=null,t=null,i=false;return {mount:()=>{i||!e||(r.onMount({origin:"Navigation Room"}),o={player:{position:new Vector3(0,0,0),rotation:new Euler(0,0,0),rotationDelta:{yaw:0,pitch:0}}},t=l.getStorage("model").retrieve(u.storageId)??null,e.player.mount(),e.ground.mount(),e.camera.mount(),i=true);},update:v=>{!i||!e||!o||(n.get("orbit").update(),o.player=e.player.update(v),e.camera.update({playerPosition:o.player.position,rotationDelta:o.player.rotationDelta}));},unmount:()=>{!i||!e||(r.onUnmount({origin:"Navigation Room"}),e.player.unmount(),e.ground.unmount(),e=null,t=null);},setActive:()=>{!t||!e||(t.groups.visible=true,n.get("orbit").enabled=false,e.camera.activate(),e.ground.activate(),e.player.activate(),r.onActivate({origin:"Navigation-Room"}));},setDeactive:()=>{!t||!e||(t.groups.visible=false,e.camera.deactivate(),e.ground.deactivate(),e.player.deactivate(),r.onDeactivate({origin:"Navigation-Room"}));},isLoaded:false}};export{U as a};//# sourceMappingURL=chunk-U2K2CF7L.js.map
//# sourceMappingURL=chunk-U2K2CF7L.js.map