import{b as a}from"./chunk-P5V7ULDZ.js";import{DRACOLoader as p}from"three/examples/jsm/loaders/DRACOLoader.js";import{GLTFLoader as m}from"three/examples/jsm/loaders/GLTFLoader.js";var y=n=>{let{assets:i,scene:d,loadingManager:c,loadingEventBus:l}=n,{globalStorage:r}=a(),s=new m(c),t=new p;t.setDecoderPath("/public/draco/"),s.setDRACOLoader(t);let g=async e=>{try{let o=await s.loadAsync(e.path);d.add(o.scene),o.scene.position.set(0,0,0),e.onSuccess?.(),r.getStorage("animations").store(e.name+":animations",o.animations),r.getStorage("groups").store(e.name+":groups",o.scene),console.log("loading mesh",e.name)}catch(o){throw e.onError?.(o),l.emit({type:"load:error",url:e.path}),console.error(o),o}};return{load:async()=>{let e=[];i.forEach(o=>{e.push(g(o))}),await Promise.allSettled(e)},dispose:()=>{}}};export{y as a};
//# sourceMappingURL=chunk-DOA63GLT.js.map