{"version":3,"sources":["../src/2d/modules/visorHUD.ts"],"names":["initVisorHUD","visor","storyTitle","storySubtitle","sections","getSections","sec","el","lastSectionId","onScroll","scrollTop","closest","prev","curr","prevDist"],"mappings":"AAgBO,SAASA,GAA2B,CACzC,IAAMC,EAAQ,QAAA,CAAS,cAAA,CAAe,OAAO,CAAA,CACvCC,CAAAA,CAAa,SAAS,aAAA,CAC1B,yBACF,EACMC,CAAAA,CAAgB,QAAA,CAAS,cAC7B,4BACF,CAAA,CAEA,GAAI,CAACF,CAAAA,EAAS,CAACC,CAAAA,EAAc,CAACC,EAAe,OAAO,IAAM,CAAC,CAAA,CAE3D,IAAMC,EAAWC,CAAAA,EAAY,CAC1B,IAAKC,CAAAA,EAAQ,CACZ,IAAMC,CAAAA,CAAK,QAAA,CAAS,eAAeD,CAAAA,CAAI,EAAE,EACzC,OAAOC,CAAAA,CAAK,CAAE,GAAGD,CAAAA,CAAK,GAAAC,CAAG,CAAA,CAAI,IAC/B,CAAC,CAAA,CACA,OAAQD,CAAAA,EAAkDA,CAAAA,GAAQ,IAAI,CAAA,CAErEE,CAAAA,CAA+B,KAE7BC,CAAAA,CAAW,IAAM,CACrB,IAAMC,CAAAA,CAAYT,EAAM,SAAA,CAClBU,CAAAA,CAAUP,EAAS,MAAA,CAAO,CAACQ,EAAMC,CAAAA,GAAS,CAC9C,IAAMC,CAAAA,CAAW,IAAA,CAAK,IAAIF,CAAAA,CAAK,EAAA,CAAG,UAAYF,CAAS,CAAA,CAEvD,OADiB,IAAA,CAAK,GAAA,CAAIG,EAAK,EAAA,CAAG,SAAA,CAAYH,CAAS,CAAA,CACrCI,CAAAA,CAAWD,EAAOD,CACtC,CAAA,CAAGR,EAAS,CAAC,CAAC,EAEVO,CAAAA,CAAQ,EAAA,GAAOH,IACjBN,CAAAA,CAAW,WAAA,CAAcS,EAAQ,KAAA,CACjCR,CAAAA,CAAc,YAAcQ,CAAAA,CAAQ,QAAA,CACpCH,EAAgBG,CAAAA,CAAQ,EAAA,EAE5B,EAEA,OAAAV,CAAAA,CAAM,iBAAiB,QAAA,CAAUQ,CAAAA,CAAU,CAAE,OAAA,CAAS,IAAK,CAAC,CAAA,CAC5DA,CAAAA,GAEO,IAAMR,CAAAA,CAAM,oBAAoB,QAAA,CAAUQ,CAAQ,CAC3D,CAEA,SAASJ,GAA6B,CACpC,OAAO,CACL,CACE,EAAA,CAAI,gBACJ,KAAA,CAAO,cAAA,CACP,SAAU,kBACZ,CAAA,CACA,CAAE,EAAA,CAAI,eAAA,CAAiB,MAAO,OAAA,CAAS,QAAA,CAAU,wBAAyB,CAAA,CAC1E,CACE,GAAI,oBAAA,CACJ,KAAA,CAAO,aACP,QAAA,CAAU,eACZ,EACA,CACE,EAAA,CAAI,mBACJ,KAAA,CAAO,UAAA,CACP,SAAU,oBACZ,CAAA,CACA,CACE,EAAA,CAAI,mBAAA,CACJ,MAAO,YAAA,CACP,QAAA,CAAU,oBACZ,CAAA,CACA,CAAE,GAAI,iBAAA,CAAmB,KAAA,CAAO,UAAW,QAAA,CAAU,eAAgB,CACvE,CACF","file":"chunk-MJPLUEG2.js","sourcesContent":["/**\n * @file visorHUD.ts\n * @description Handles the Visor HUD scroll tracking for the 2D portfolio.\n */\n\ninterface SectionData {\n  id: string;\n  title: string;\n  subtitle: string;\n}\n\n/**\n * Initialize the Visor HUD\n * Updates HUD elements (title/subtitle) based on scroll position\n * @returns A cleanup function to remove event listeners\n */\nexport function initVisorHUD(): () => void {\n  const visor = document.getElementById(\"visor\");\n  const storyTitle = document.querySelector<HTMLDivElement>(\n    \"#story-hud .story-title\"\n  );\n  const storySubtitle = document.querySelector<HTMLDivElement>(\n    \"#story-hud .story-subtitle\"\n  );\n\n  if (!visor || !storyTitle || !storySubtitle) return () => {};\n\n  const sections = getSections()\n    .map((sec) => {\n      const el = document.getElementById(sec.id);\n      return el ? { ...sec, el } : null;\n    })\n    .filter((sec): sec is SectionData & { el: HTMLElement } => sec !== null);\n\n  let lastSectionId: string | null = null;\n\n  const onScroll = () => {\n    const scrollTop = visor.scrollTop;\n    const closest = sections.reduce((prev, curr) => {\n      const prevDist = Math.abs(prev.el.offsetTop - scrollTop);\n      const currDist = Math.abs(curr.el.offsetTop - scrollTop);\n      return currDist < prevDist ? curr : prev;\n    }, sections[0]);\n\n    if (closest.id !== lastSectionId) {\n      storyTitle.textContent = closest.title;\n      storySubtitle.textContent = closest.subtitle;\n      lastSectionId = closest.id;\n    }\n  };\n\n  visor.addEventListener(\"scroll\", onScroll, { passive: true });\n  onScroll(); // initial update\n\n  return () => visor.removeEventListener(\"scroll\", onScroll);\n}\n\nfunction getSections(): SectionData[] {\n  return [\n    {\n      id: \"section-intro\",\n      title: \"INTRODUCTION\",\n      subtitle: \"DECODING SUBJECT\",\n    },\n    { id: \"section-about\", title: \"ABOUT\", subtitle: \"WHO IS INSIDE THE SUIT\" },\n    {\n      id: \"section-experience\",\n      title: \"EXPERIENCE\",\n      subtitle: \"TYPES OF WORK\",\n    },\n    {\n      id: \"section-projects\",\n      title: \"PROJECTS\",\n      subtitle: \"PORTFOLIO SHOWCASE\",\n    },\n    {\n      id: \"section-techstack\",\n      title: \"TECH STACK\",\n      subtitle: \"TOOLS & FRAMEWORKS\",\n    },\n    { id: \"section-contact\", title: \"CONTACT\", subtitle: \"LET'S CONNECT\" },\n  ];\n}\n"]}