import {Vector3,Spherical,MathUtils}from'three';var a={DISTANCE:3,HEIGHT_OFFSET:2,PITCH_MIN:0,PITH_MAX:Math.PI/2,SMOOTHING:.1},d=new Vector3(0,0,0),r=new Vector3(0,0,0),i=new Vector3(0,0,0);function M(e,n){return {yaw:MathUtils.euclideanModulo(e,Math.PI*2),pitch:MathUtils.clamp(n,a.PITCH_MIN,a.PITH_MAX)}}function C(e){return r.set(0,0,0),r.setFromSpherical(e),r.y+=a.HEIGHT_OFFSET,r}function T(e,n,t){return e.lerp(n,t)}var O=({camera:e})=>{let t={mode:"thirdPerson",rotation:{pitch:Math.PI/2,yaw:0},spherical:new Spherical(a.DISTANCE,Math.PI/2,0)},u=o=>{t.mode=o;},m=()=>{},l=()=>{e.position.set(1,2,3);},h=o=>{t.rotation.yaw+=o.yaw,t.rotation.pitch+=o.pitch;let c=M(t.rotation.yaw,t.rotation.pitch);t.rotation.yaw=c.yaw,t.rotation.pitch=c.pitch;},y=o=>{t.spherical.theta=t.rotation.yaw,t.spherical.phi=t.rotation.pitch,r.copy(C(t.spherical)),d.copy(o.playerPosition).add(r),e.position.copy(T(e.position,d,a.SMOOTHING)),i.copy(o.playerPosition),i.y+=a.HEIGHT_OFFSET,e.lookAt(i);},P=o=>{e.position.copy(o),e.rotation.set(t.rotation.pitch,t.rotation.yaw,0);};return {setMode:u,update:o=>(h(o.rotationDelta),t.mode==="thirdPerson"?y(o):P(o.playerPosition),{rotation:e.rotation}),mount:m,activate:l,deactivate:()=>{},unmount:()=>{}}};export{O as a};//# sourceMappingURL=chunk-GRCMIHA5.js.map
//# sourceMappingURL=chunk-GRCMIHA5.js.map